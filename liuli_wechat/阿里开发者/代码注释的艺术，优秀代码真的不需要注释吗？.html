<!DOCTYPE html>
<html class="
">
  <head>
            <meta name="wechat-enable-text-zoom-em" content="true">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0,viewport-fit=cover">
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico" reportloaderror>
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C" reportloaderror>
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png" reportloaderror>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<script  nonce="1276091577" reportloaderror>try{document.getElementsByTagName('html').item(0).style.webkitTextSizeAdjust=JSON.parse(window.__wxWebEnv.getEnv()).fontScale+'%'}catch(e){}</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
  window.logs = { pagetime: {} };
  window.logs.pagetime['html_begin'] = (+new Date());
  window.LANG = "zh_CN"; // 页面语言 zh_CN en_US
</script>

    <script type="text/javascript" nonce="1276091577" reportloaderror>
/**
 * 于2022-02-21重构vite
 * 仅保留原有moon.js中上报相关的部分
 * @author baakqiu
 * @date 2022-02-21
 */

var WX_BJ_REPORT = window.WX_BJ_REPORT || {};
(function(_) {
  if (_.BadJs) {
    return;
  }
  //onerror上报名 
  var BADJS_WIN_ERR = 'BadjsWindowError';
  var extend = function(source, destination) {
    for (var property in destination) {
      source[property] = destination[property]
    }
    return source
  }
  /*
    出错上报字段:mid name key  msg  stack file col line uin
    mid 模块名
    name 监控名
    key 特征值
    msg 额外信息
  */
  _.BadJs = {
    uin: 0,
    mid: "",
    view: "wap",
    _cache: {}, //上报_cache 同一mid name key 只会上报一次
    _info: {}, // 打点记录 会写入msg帮助定位
    _hookCallback: null,
    ignorePath: true,
    throw: function(e, extData) {
      this.onError(e, extData);
      throw e;
    },
    //接收异常并上报处理 如果有额外信息可以放在第二个参数_data中
    // _data 只能覆盖上报协议的字段mid （name,key 不建议通过data覆盖） msg  stack file col line uin
    onError: function(e, extData) {
      try {
        //标记已执行的throw
        if (e.BADJS_EXCUTED == true) {
          return;
        }
        e.BADJS_EXCUTED = true;
        var data = errToData(e);
        data.uin = this.uin;
        data.mid = this.mid;
        data.view = this.view;
        data.cmdb_module = 'mmbizwap';
        //data.msg = msg || data.msg;
        if (!!extData) {
          data = extend(data, extData);
        }
        //如果cid存在 将cid合并到key
        if (data.cid) {
          data.key = "[" + data.cid + "]:" + data.key;
        }
        
        if (data._info) {
          if (Object.prototype.toString.call(data._info) == "[object Object]") {
            data.msg += " || info:" + JSON.stringify(data._info);
          } else if (Object.prototype.toString.call(data._info) == "[object String]") {
            data.msg += " || info:" + data._info;
          } else {
            data.msg += " || info:" + data._info;
          }
        }
        if (typeof this._hookCallback == "function") {
          if (this._hookCallback(data) === false) {
            return
          }
        }
        this._send(data);
        return _.BadJs;
      } catch (e) {
        console.error(e);
      }
    },
    winErr: function(event) {
      if (event.error && event.error.BADJS_EXCUTED) {
        return;
      }
      if (event.type === 'unhandledrejection') {
        _.BadJs.onError(createError(event.type, event.reason, "", "", "", event.reason));
      }else{
        _.BadJs.onError(createError(BADJS_WIN_ERR, event.message, event.filename, event.lineno, event.colno, event.error));
      }
    },
    init: function(uin, mid, view) {
      this.uin = uin || this.uin;
      this.mid = mid || this.mid;
      this.view = view || this.view;
      return _.BadJs;
    },
    //钩子函数
    hook: function(fn) {
      this._hookCallback = fn;
      return _.BadJs;
    },
    _send: function(data) {
      //hack uin mid
      if (!data.mid) {
        if (typeof window.PAGE_MID !== 'undefined' && window.PAGE_MID) {
          data.mid = window.PAGE_MID;
        } else {
          return;
        }
      }
      if (!data.uin) {
        data.uin = window.user_uin || 0;
      }
      // 发送要去重 
      var flag = [data.mid, data.name, data.key].join("|");
      if (this._cache && this._cache[flag]) {
        return
      } else {
        this._cache && (this._cache[flag] = true);
        this._xhr(data);
      }
      return _.BadJs;
    },
    _xhr: function(data) {
      //console.log(data);
      var xmlobj;
      if (window.ActiveXObject) {
        try {
          xmlobj = new ActiveXObject("Msxml2.XMLHTTP");
        } catch (e) {
          try {
            xmlobj = new ActiveXObject("Microsoft.XMLHTTP");
          } catch (E) {
            xmlobj = false;
          }
        }
      } else if (window.XMLHttpRequest) {
        xmlobj = new XMLHttpRequest();
      }
      var param = "";
      for (var key in data) {
        if (key && data[key]) {
          param += [key, "=", encodeURIComponent(data[key]), "&"].join("");
        }
      }
      if (xmlobj && typeof xmlobj.open == "function") {
        xmlobj.open("POST", "https://badjs.weixinbridge.com/report", true);
        xmlobj.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
        xmlobj.onreadystatechange = function(status) {};
        xmlobj.send(param.slice(0, -1));
      } else {
        var img = new Image();
        img.src = "https://badjs.weixinbridge.com/report?" + param;
      }
    },
    // key是特征值 默认上报msg就是key，也可以主动传msg包含更多上报信息 
    report: function(name, key, data) {
      this.onError(createError(name, key), data);
      return this;
    },
    // 打点标记
    mark: function(info) {
      this._info = extend(this._info, info);
    },
    nocache: function() {
      this._cache = false;
      return _.BadJs;
    }
  }
  function createError(name, msg, url, line, col, error) {
    return {
      name: name || "",
      message: msg || "",
      file: url || "",
      line: line || "",
      col: col || "",
      stack: (error && error.stack) || "",
    }
  }
  //将异常错误转换成上报协议支持的字段
  /*
  * 先取e对象上的file line col等字段
  * 再解析e.statck
  * name 错误大类 默认取badjs_try_err|badjs_win_err
  * key  错误标识 e.message
  * msg  错误信息 e.message
  * stack 错误堆栈 e.stack
  * file 错误发生的文件
  * line 行
  * col 列
  * client_version
  */
  function errToData(e) {
    var _stack = parseStack(e);
    return {
      name: e.name,
      key: e.message,
      msg: e.message,
      stack: _stack.info,
      file: _stack.file,
      line: _stack.line,
      col: _stack.col,
      client_version: "",
      _info: e._info
    }
  }
  function parseStack(e) {
    e._info = e._info || ""; // 当前错误的额外信息 最终上报到info
    var stack = e.stack || "";
    var _stack = {
      info: stack,
      file: e.file || "",
      line: e.line || "",
      col: e.col || "",
    };
    if (_stack.file == "") {
      // 提取file line col
      var stackArr = stack.split(/\bat\b/);
      if (stackArr && stackArr[1]) {
        var match = /(https?:\/\/[^\n]+)\:(\d+)\:(\d+)/.exec(stackArr[1]);
        if (match) {
          //若stack提取的file line col跟e中的属性不一致，以stack为准 但在e._info中记录原始数据
          if (match[1] && match[1] != _stack.file) {
            _stack.file && (e._info += " [file: " + _stack.file + " ]");
            _stack.file = match[1];
          }
          if (match[2] && match[2] != _stack.line) {
            _stack.line && (e._info += " [line: " + _stack.line + " ]");
            _stack.line = match[2];
          }
          if (match[3] && match[3] != _stack.col) {
            _stack.col && (e._info += " [col: " + _stack.col + " ]");
            _stack.col = match[3];
          }
        }
      }
    }
    //替换堆栈中的文件路径 combojs太长
    if (_stack && _stack.file && _stack.file.length > 0) {
      _stack.info = _stack.info.replace(new RegExp(_stack.file.split("?")[0], "gi"), "__FILE__")
    }
    //堆栈路径只保存文件名
    if (_.BadJs.ignorePath) {
      _stack.info = _stack.info.replace(/http(s)?\:[^:\n]*\//ig, "").replace(/\n/gi, "");
    }
    return _stack;
  }
  //兜底方法
  window.addEventListener && window.addEventListener('error', _.BadJs.winErr);
  window.addEventListener && window.addEventListener('unhandledrejection', _.BadJs.winErr);
  return _.BadJs;
})(WX_BJ_REPORT);
window.WX_BJ_REPORT = WX_BJ_REPORT;
/**
 * 兼容wap项目的简单CMD管理
 * 所有wap项目必须包含此文件才可以执行成功
 * 暴露在全局的变量仍然以seajs为命名空间，跟web项目保持一致
 * 支持的API是seajs.use，以及require define
 * @author raphealguo
 * @date 20140326
 */
function __moonf__() {
  if (window.__moonhasinit) return;
  window.__moonhasinit = true;
  window.__moonclientlog = []; // moon中存到客户端日志里面的内容，最终写入到客户端的地点在fereport.js
  if (typeof JSON != "object") { //针对IE7的hack
    window.JSON = {
      stringify: function() { return ""; },
      parse: function() { return {}; }
    };
  }
  var moon_init = function() {
    // 前端的@cunjinli
    (function() {
      // @cunjinli 重写alert函数, moonsafe监控
      var _alert = window.alert;
      window.__alertList = [];
      window.alert = function(msg) {
        _alert(msg);
        window.__alertList.push(msg);
      };
    })();
    /**
     * moonsafe @cunjinli 加在这里
     */
    (function() {
      // if (window.__nonce_str) {
      //   var __old_createElement = document.createElement;
      //   document.createElement = function(tagName) {
      //     var node = __old_createElement.apply(this, arguments);
      //     if (typeof tagName == 'object') {
      //       tagName = tagName.toString();
      //     }
      //     if (typeof tagName == 'string' && tagName.toLowerCase() == 'script') {
      //       node.setAttribute("nonce", window.__nonce_str);
      //     }
      //     return node;
      //   }
      // }
      if (window.addEventListener && window.__DEBUGINFO && Math.random() < 0.01) {
        window.addEventListener("load", function() {
          var node = document.createElement('script');
          node.src = __DEBUGINFO.safe_js;
          node.type = 'text/javascript';
          node.async = true;
          var head = document.head || (document.getElementsByTagName("head")[0]);
          head.appendChild(node);
        });
      }
    })();
    /**
     * mooncatch
     * 对各种异步回调都使用try catch错误上报
     * @radeonwu raphealguo
     */
    (function() {
      var inWx = (/MicroMessenger/i).test(navigator.userAgent);
      var inMp = (/MPAPP/i).test(navigator.userAgent);
      var _idkey = 121261; //上报的idkey 添加默认上报值
      var _startKey; //开始的key
      var _limit; //上报的key的长度
      var _badjsId;
      var _reportOpt; //上报的额外信息
      var _extInfo; //附加的预留字段，如网络采样率采样率network_rate， 总体上报率rate
      var MOON_LISTENER_ERROR_KEY_OFFSET = 2; //addEventListener上报时的偏移量为2
      var MOON_AJAX_NETWORK_OFFSET = 4; //network错误时的上报偏移量为4，这里在ajax.js中上报，这里需要加入采样率
      var MOON_ASYNC_ERROR_KEY_OFFSET = 9; //setTimeout和setInterval上报时的偏移量为9
      var MOON_LOCALSTORAGE_ERROR_KEY_OFFSET = 10; //localstorage.setItem失败时的偏移量为10
      window.__initCatch = function(opt) {
        _idkey = opt.idkey;
        _startKey = opt.startKey || 0;
        _limit = opt.limit;
        _badjsId = opt.badjsId;
        _reportOpt = opt.reportOpt || "";
        _extInfo = opt.extInfo || {};
        _extInfo.rate = _extInfo.rate || 0.5;
      }
      //暴露的上报函数，供core.js和ajax.js上报错误使用，array = [{offset:MOON_JSAPI_KEY_OFFSET, log:"ready", e:e}]
      window.__moon_report = function(array, rate_opt) {
        var isAcrossOrigin = false;
        var href = '';
        try {
          href = top.location.href;
        } catch (e) {
          isAcrossOrigin = true;
        }
        var rate = 0.5;
        if (!!_extInfo && !!_extInfo.rate) {
          rate = _extInfo.rate;
        }
        if (!!rate_opt && (typeof rate_opt == 'number')) {
          rate = rate_opt;
        }
        if (
          (!(/mp\.weixin\.qq\.com/).test(location.href) && !(/payapp\.weixin\.qq\.com/).test(location.href)) ||
          Math.random() > rate ||
          !(inWx || inMp) ||
          (top != window && !isAcrossOrigin && !(/mp\.weixin\.qq\.com/).test(href))
        ) {
          //return ;
        }
        if (isObject(array))
          array = [array];
        if (!isArray(array) || _idkey == '')
          return;
        var data = "";
        var log = []; //存放array中每个对象关联的log
        var key = []; //存放array中每个上报的key
        var val = []; //存放array中每个上报的value
        var idkey = [];
        //如果这里没有opt.limit，直接上报到startKey
        if (typeof _limit != "number") {
          _limit = Infinity;
        }
        for (var i = 0; i < array.length; i++) {
          var item = array[i] || {};
          if (item.offset > _limit) continue; //上报的偏移量超过limit
          if (typeof item.offset != "number") continue;
          if (item.offset == MOON_AJAX_NETWORK_OFFSET && !!_extInfo && !!_extInfo.network_rate && Math.random() >= _extInfo.network_rate) {
            continue;
          }
          //log[i] = item.log || "";
          var k = _limit == Infinity ? _startKey : (_startKey + item.offset);
          log[i] = (("[moon]" + _idkey + "_" + k + ";") + item.log + ";" + getErrorMessage(item.e || {})) || "";
          key[i] = k;
          val[i] = 1;
        }
        for (var j = 0; j < key.length; j++) {
          idkey[j] = _idkey + "_" + key[j] + "_" + val[j];
          data = data + "&log" + j + "=" + log[j];
        }
        if (idkey.length > 0) {
          // sendReport("idkey=" + idkey.join(";") + "&lc=" + log.length + data);
          sendReport("POST", location.protocol + '//mp.weixin.qq.com/mp/jsmonitor?', "idkey=" + idkey.join(";") + "&r=" + Math.random() + "&lc=" + log.length + data);
          // 把图文消息的错误上报一份到badjs，只支持get请求
          // 这里由于量比较大，把badjs的内层怼爆了，这里加多一个采样，并且去掉用户的信息
          var rate = 1;
          if (_extInfo && _extInfo.badjs_rate) { // 初始化时的badjs采样率
            rate = _extInfo.badjs_rate;
          }
          if (Math.random() < rate) {
            data = data.replace(/uin\:(.)*\|biz\:(.)*\|mid\:(.)*\|idx\:(.)*\|sn\:(.)*\|/, '');
            if(!!_badjsId){
              var _img = new Image();
              var _src = 'https://badjs.weixinbridge.com/badjs?id=' + _badjsId + '&level=4&from=' + encodeURIComponent(location.host) + '&msg=' + encodeURIComponent(data);
              _img.src = _src.slice(0, 1024);
            }
            // badjs同时报一份到新监控 
            if (typeof WX_BJ_REPORT != "undefined" && WX_BJ_REPORT.BadJs) {
              for (var i = 0; i < array.length; i++) {
                var item = array[i] || {};
                if (item.e) {
                  WX_BJ_REPORT.BadJs.onError(item.e,{_info:item.log});
                } else {
                  var name = /[^:;]*/.exec(item.log)[0];
                  WX_BJ_REPORT.BadJs.report(name, item.log, { mid: "mmbizwap:Monitor" });
                }
              }
            }
          } else {
            //虽然采样没有执行 但实际是有被BadJs.onError，置位一下
            for (var i = 0; i < array.length; i++) {
              var item = array[i] || {};
              if (item.e) {
                item.e.BADJS_EXCUTED = true;
              }
            }
          }
        }
      }
      function isArray(obj) { //判断输入是否为数组
        return Object.prototype.toString.call(obj) === '[object Array]';
      }
      function isObject(obj) { //判断输入是否为对象
        return Object.prototype.toString.call(obj) === '[object Object]';
      }
      function getErrorMessage(e) {
        var stack = e.stack + ' ' + e.toString() || ""; //错误堆栈信息
        try {
          //先取出res域名
          if (!window.testenv_reshost) {
            stack = stack.replace(/http(s)?:\/\/res\.wx\.qq\.com/g, "");
          } else {
            var host = 'http(s)?://' + window.testenv_reshost;
            var reg = new RegExp(host, 'g');
            stack = stack.replace(reg, "");
          }
          //提取最后一个.js前边的
          var reg = /\/([^.]+)\/js\/(\S+?)\.js(\,|:)?/g;
          while (reg.test(stack)) {
            // stack = stack.replace(reg, "3"); 解决$问题
            stack = stack.replace(reg, function(a, b, c, d, e, f) {
              return c + d
            });
          }
        } catch (e) {
          stack = e.stack ? e.stack : "" //错误堆栈信息
        }
        var ret = [];
        for (o in _reportOpt) {
          if (_reportOpt.hasOwnProperty(o)) {
            ret.push(o + ":" + _reportOpt[o]);
          }
        }
        ret.push("STK:" + stack.replace(/\n/g, ""));
        return ret.join("|");
      }
      function sendReport(type, url, data) { //post方法用于提交数据
        if (!/^mp\.weixin\.qq\.com$/.test(location.hostname)) { //非MP域名使用 img方式上报
          var tmp = [];
          data = data.replace(location.href, (location.origin || "") + (location.pathname || "")).replace("#wechat_redirect", "").replace("#rd", "").split("&");
          for (var i = 0, il = data.length; i < il; i++) {
            var a = data[i].split("=");
            if (!!a[0] && !!a[1]) {
              tmp.push(a[0] + "=" + encodeURIComponent(a[1]));
            }
          }
          var _img = new window.Image();
          _img.src = (url + tmp.join("&")).substr(0, 1024);
          return;
        }
        var xmlobj; //定义XMLHttpRequest对象  
        if (window.ActiveXObject) { //如果当前浏览器支持Active Xobject，则创建ActiveXObject对象    
          try {
            xmlobj = new ActiveXObject("Msxml2.XMLHTTP");
          } catch (e) {
            try {
              xmlobj = new ActiveXObject("Microsoft.XMLHTTP");
            } catch (E) {
              xmlobj = false;
            }
          }
        } else if (window.XMLHttpRequest) { //如果当前浏览器支持XMLHttpRequest，则创建XMLHttpRequest对象  
          xmlobj = new XMLHttpRequest();
        }
        if (!xmlobj) return;
        //xmlobj.open("POST", location.protocol + "//mp.weixin.qq.com/mp/jsmonitor?", true);         
        xmlobj.open(type, url, true);
        xmlobj.setRequestHeader("cache-control", "no-cache");
        xmlobj.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8"); //设置请求头信息              
        xmlobj.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        xmlobj.send(data); //发送数据  
      }
      function catTimeout(foo) {
        return function(cb, timeout) {
          if (typeof cb === 'string') {
            try {
              cb = new Function(cb);
            } catch (err) {
              throw err;
            }
          }
          var args = [].slice.call(arguments, 2);
          var _cb = cb;
          cb = function() {
            try {
              return _cb.apply(this, (args.length && args) || arguments);
            } catch (error) {
              if (error.stack && console && console.error) { //chrome有bug，特定情况下看不到throw的error，这里console.error下，防止给调试留坑
                console.error("[TryCatch]" + error.stack);
              }
              if (!!_idkey && !!window.__moon_report) { //没有初始化_key，直接throw error
                //sendReport(error);
                window.__moon_report([{ offset: MOON_ASYNC_ERROR_KEY_OFFSET, log: "timeout_error;host:" + location.host, e: error }]);
                //breakOnError(timeoutkey);
              }
              throw error;
            }
          }
          return foo(cb, timeout);
        };
      };
      window.setTimeout = catTimeout(window.setTimeout);
      window.setInterval = catTimeout(window.setInterval);
      if (Math.random() < 0.01 && !!window.Document && !!window.HTMLElement) {
        var cb_map = {};
        var moon_lid = 0;
        function catAddListener(foo) {
          return function(type, cb, useCapture) {
            if (typeof useCapture === "undefined") {
              var useCapture = false;
            }
            var that = this;
            var _cb = cb || function() {};
            cb = function() {
              try {
                //arguments[0].currentTarget.setAttribute("data-moon_lid") = moon_lid;
                //_cb.moon_lid = moon_lid;
                return _cb.apply(that, arguments);
              } catch (error) {
                if (error.stack && console && console.error) { //chrome有bug，特定情况下看不到throw的error，这里console.error下，防止给调试留坑
                  console.error("[TryCatch]" + error.stack);
                }
                if (!!_idkey && !!window.__moon_report) { //没有初始化_key，直接throw error
                  window.__moon_report([{ offset: MOON_LISTENER_ERROR_KEY_OFFSET, log: "listener_error;type:" + type + ";host:" + location.host, e: error }]);
                  //breakOnError(timeoutkey);
                }
                throw error;
              }
            }
            _cb.moon_lid = moon_lid;
            cb_map[moon_lid] = cb;
            moon_lid++;
            return foo.call(that, type, cb, useCapture);
          }
        }
        function catRemoveListener(foo) {
          return function(type, cb, useCapture) {
            if (typeof useCapture === "undefined") {
              var useCapture = false;
            }
            var that = this;
            cb = cb_map[cb.moon_lid];
            return foo.call(that, type, cb, useCapture);
          }
        }
        Document.prototype.addEventListener = catAddListener(Document.prototype.addEventListener);
        Document.prototype.removeEventListener = catRemoveListener(Document.prototype.removeEventListener);
        HTMLElement.prototype.addEventListener = catAddListener(HTMLElement.prototype.addEventListener);
        HTMLElement.prototype.removeEventListener = catRemoveListener(HTMLElement.prototype.removeEventListener);
      }
      //alert("setItem begin");
      //window.localStorage.setItem = function(){a=c;}//故意
      var ua = window.navigator.userAgent;
      if ((/ip(hone|ad|od)/i.test(ua) || /android/i.test(ua)) && !/windows phone/i.test(ua) && !!window.localStorage && !!window.localStorage.setItem) {
        var _setItem = window.localStorage.setItem;
        var count = 0;
        window.localStorage.setItem = function(k, v) {
          if (count >= 10) { //一直失败 不要再继续试了，可能类似safari无痕模式 不允许写入了
            return;
          }
          try {
            _setItem.call(window.localStorage, k, v);
          } catch (error) {
            //alert(error);
            if (error.stack && console && console.error) { //chrome有bug，特定情况下看不到throw的error，这里console.error下，防止给调试留坑
              console.error("[TryCatch]" + error.stack);
            }
            window.__moon_report([{ offset: MOON_LOCALSTORAGE_ERROR_KEY_OFFSET, log: "localstorage_error;" + error.toString(), e: error }]);
            count++;
            if (count >= 3 && !!window.moon && window.moon.clear) {
              // 可能爆满 清理一下localstorage
              moon.clear();
            }
          }
        }
        //alert("setItem end");
      }
    })();
    // 后面的@cunjinli
  };
  moon_init();
  //由于moon异步化，所以有些逻辑需要moon加载完之后才执行的 放到全局callback函数__moon_initcallback里边
  (!!window.__moon_initcallback) && (window.__moon_initcallback());
}
// 为适应inline逻辑，有map时才主动自执行 @zhikaimai
// if (typeof window.moon_map == 'object') {
//     __moonf__();
// }
__moonf__();

if (!!window.addEventListener){
  window.addEventListener("load",function(){
    var MOON_SCRIPT_ERROR_KEY_OFFSET = 1; //script上报时的偏移量为1
    var ns = document.querySelectorAll("[reportloaderror]");
    for(var ni=0,nl=ns.length;ni<nl;ni++)
      ns[ni].onerror=function(ev){
        window.__moon_report([{ offset: MOON_SCRIPT_ERROR_KEY_OFFSET, log: "load_script_error:" + ev.target.src, e: new Error('LoadResError') }], 1);
        window.WX_BJ_REPORT.BadJs.report("load_script_error", ev.target.src, { mid: "mmbizwap:Monitor" });
      };
  });
}
</script>

    <script type="text/javascript" nonce="1276091577" reportloaderror>
  var testRdmUrl = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/common/avatar_default5e92aa.svg';
  // 如果是资源是mp域名，则是rdm环境
  if (testRdmUrl.indexOf('mp.weixin.qq.com') > 0) {
    window.__allowLoadResFromMp = true; // 允许从mp.weixin.qq.com加载js资源
    window.__loadAllResFromMp = true; // 所有js资源都从mp域名加载

    // 给底色加个原谅绿
    // document.documentElement.style.boxShadow = 'inset 0 0 15px green';
  }
</script>


    

  
  <meta name="description" content="注释并不会妨碍你写出优雅简洁的代码，它只是程序固有的一部分而已。" />
  <meta name="author" content="聂晓龙（率鸽）" />

  
  <meta property="og:title" content="代码注释的艺术，优秀代码真的不需要注释吗？" />
  <meta property="og:url" content="http://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&amp;mid=2247508776&amp;idx=1&amp;sn=ea44de460c56c0643f79227736dcd505&amp;chksm=e92a9e27de5d1731bcefbcfea6ac55f440632259d4fbdc1c4c1065a90f587121e6e80c9c42d1#rd" />
  <meta property="og:image" content="http://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPsd4cicQNOxiaCdzPuFjHTjxoeoVj6nqGT9YJkhsqYuSxWlFFV8SF7quLQ/0?wx_fmt=jpeg" />
  <meta property="og:description" content="注释并不会妨碍你写出优雅简洁的代码，它只是程序固有的一部分而已。" />
  <meta property="og:site_name" content="微信公众平台" />
  <meta property="og:type" content="article" />
  <meta property="og:article:author" content="聂晓龙（率鸽）" />

  
  <meta property="twitter:card" content="summary" />
  <meta property="twitter:image" content="http://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPsd4cicQNOxiaCdzPuFjHTjxoeoVj6nqGT9YJkhsqYuSxWlFFV8SF7quLQ/0?wx_fmt=jpeg" />
  <meta property="twitter:title" content="代码注释的艺术，优秀代码真的不需要注释吗？" />
  <meta property="twitter:creator" content="聂晓龙（率鸽）" />
  <meta property="twitter:site" content="微信公众平台" />
  <meta property="twitter:description" content="注释并不会妨碍你写出优雅简洁的代码，它只是程序固有的一部分而已。" />


    <title></title>
    
<style>
</style>


    
<script type="module" nonce="1276091577" reportloaderror>!function(){try{new Function("m","return import(m)")}catch(o){console.warn("vite: loading legacy build because dynamic import is unsupported, syntax error above should be ignored");var e=document.getElementById("vite-legacy-polyfill"),n=document.createElement("script");n.src=e.src,n.onload=function(){System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))},document.body.appendChild(n)}}();</script>
<script type="module" crossorigin src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/appmsg.l4dkj1u834bcab07.js" nonce="1276091577" reportloaderror></script>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/sprite.l4dkj1u8974bdcb8.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/vendor.l4dkj1u8f084365e.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/report.l4dkj1u8c12188fa.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/wxwork_hidden.l4dkj1u891f7de48.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/loadscript.l4dkj1u8934d8d2c.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/voice_component.l4dkj1u8a25cd3a4.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/bottom_modal.l4dkj1u8d2c93d38.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/outer_link.l4dkj1u8f8d3f5bd.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/review_image.l4dkj1u8b77dd23c.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/controller.l4dkj1u889c9df89.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/see_more.l4dkj1u8d7eac6de.js" reportloaderror>
<link rel="modulepreload" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/modal.l4dkj1u8dcfbf9f7.js" reportloaderror>










<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/appmsg.l4dkj1u867c14a27.css" reportloaderror>
<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/sprite.l4dkj1u8dcee1002.css" reportloaderror>
<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/report.l4dkj1u8301986bf.css" reportloaderror>
<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/wxwork_hidden.l4dkj1u800d6a251.css" reportloaderror>
<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/controller.l4dkj1u80cfa6044.css" reportloaderror>
<link rel="stylesheet" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/see_more.l4dkj1u83d89d3d2.css" reportloaderror>

    <style>
      .cooldown_tips {
        margin: 30px auto;
        margin-top: 0;
        display: flex;
        align-items: center;
        padding: 10px;
        font-size: 14px;
        background-color: #f6f7f9;
        border-radius: 6px;
      }   
      .cooldown_tips_icon {
        display: block;
        width: 18px;
        height: 18px;
        margin-right: 8px;
      }
    </style>
  </head>

  <body id="activity-detail" class="zh_CN wx_wap_page 

                                            wx_wap_desktop_fontsize_2    mm_appmsg
 comment_feature
 discuss_tab appmsg_skin_default appmsg_style_default">
    
    
<script type="text/javascript" nonce="1276091577" reportloaderror>
  var biz = "MzIzOTU0NTQ0MA==" || "";
  var sn = "ea44de460c56c0643f79227736dcd505" || "" || "";
  var mid = "2247508776" || "" || "";
  var idx = "1" || "" || "";
  window.__allowLoadResFromMp = true; // 允许从mp.weixin.qq.com加载js资源
  // window.__loadAllResFromMp = true; // 所有js资源都从mp域名加载
</script>

<script  nonce="1276091577" reportloaderror>
var page_begintime = (+new Date());
// 辟谣需求
var is_rumor = "";
var norumor = "";
if (!!(is_rumor * 1) && !(norumor*1) && !!biz && !!mid) {
  if (!document.referrer || document.referrer.indexOf("mp.weixin.qq.com/mp/rumor") == -1){
    location.href = "http://mp.weixin.qq.com/mp/rumor?action=info&__biz=" + biz + "&mid=" + mid + "&idx=" + idx + "&sn=" + sn + "#wechat_redirect";
  }
}
</script>

<script type="text/javascript" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/inline_mutation_observer5e92ab.js" nonce="1276091577" reportloaderror></script>

    <link rel="dns-prefetch" href="//res.wx.qq.com" reportloaderror>
<link rel="dns-prefetch" href="//mmbiz.qpic.cn" reportloaderror>
<link rel="dns-prefetch" href="https://wxa.wxs.qq.com" reportloaderror>
<link rel="shortcut icon" type="image/x-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/NTI4MWU5.ico" reportloaderror>
<link rel="mask-icon" href="//res.wx.qq.com/a/wx_fed/assets/res/MjliNWVm.svg" color="#4C4C4C" reportloaderror>
<link rel="apple-touch-icon-precomposed" href="//res.wx.qq.com/a/wx_fed/assets/res/OTE0YTAw.png" reportloaderror>
<script type="text/javascript" nonce="1276091577" reportloaderror>
String.prototype.html = function (encode) {
  var replace = ["&#39;", "'", "&quot;", '"', "&nbsp;", " ", "&gt;", ">", "&lt;", "<", "&yen;", "¥", "&amp;", "&"];
  // 最新版的safari 12有一个BUG，如果使用字面量定义一个数组，var a = [1, 2, 3]
  // 当调用了 a.reverse() 方法把变量 a 元素顺序反转成 3, 2, 1 后，
  // 即使此页面刷新了， 或者此页面使用 A标签、 window.open 打开的页面，
  // 只要调用到同一段代码， 变量 a 的元素顺序都会变成 3, 2, 1
  // 所以这里不用 reverse 方法
  /*
  if (encode) {
      replace.reverse();
  }*/
  var replaceReverse = ["&", "&amp;", "¥", "&yen;", "<", "&lt;", ">", "&gt;", " ", "&nbsp;", '"', "&quot;", "'", "&#39;"];
  var target;
  if (encode) {
    target = replaceReverse;
  } else {
    target = replace;
  }
  for (var i = 0, str = this; i < target.length; i += 2) {
    str = str.replace(new RegExp(target[i], 'g'), target[i + 1]);
  }
  return str;
};

window.isInWeixinApp = function () {
  return /MicroMessenger/.test(navigator.userAgent);
};

window.getQueryFromURL = function (url) {
  url = url || 'http://qq.com/s?a=b#rd'; // 做一层保护，保证URL是合法的
  var tmp = url.split('?'),
    query = (tmp[1] || "").split('#')[0].split('&'),
    params = {};
  for (var i = 0; i < query.length; i++) {
    var arg = query[i].split('=');
    params[arg[0]] = arg[1];
  }
  if (params['pass_ticket']) {
    params['pass_ticket'] = encodeURIComponent(params['pass_ticket'].html(false).html(false).replace(/\s/g, "+"));
  }
  return params;
};

(function () {
  var params = getQueryFromURL(location.href);
  window.uin = params['uin'] || "" || '';
  window.key = params['key'] || "" || '';
  window.wxtoken = params['wxtoken'] || '';
  window.pass_ticket = params['pass_ticket'] || '';
  window.appmsg_token = "";
})();
</script>
    
<script type="text/javascript" nonce="1276091577" reportloaderror>window.PAGE_MID="mmbizwap:appmsg/newindex.html"</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
  var write_sceen_time = (+new Date());
  var preview = "" * 1 || 0;

  var currencyMap = {
    'USD': '$',
    'HKD': 'HK$',
    'CAD': 'C$',
    'AUD': 'A$',
    'TWD': 'NT$',
    'JPY': 'JPY￥',
    'EUR': '€',
    'SGD': 'S$',
    'GBP': '£',
    'NZD': 'NZ$',
    'MYR': 'RM',
    'KZT': '〒',
    'KRW': '₩',
    'THB': '฿',
    'PHP': '₱',
    'TRY': '₺',
    'MXN': 'Mex$',
    'CNY': '￥'
  };
  var can_use_wecoin = '1' * 1; // 是否个人号
  var wecoin_tips = '0' * 1; // 是否出教育弹窗
  /* var can_use_wecoin = 1; */
  var wecoin_amount = '0' * 1; // 微信豆个数
</script>

<div id="js_article" class="rich_media">
  
  <div id="js_top_ad_area" class="top_banner"></div>
  
  <div class="rich_media_inner">
    
    
    <div id="page-content" class="rich_media_area_primary">
      <div class="rich_media_area_primary_inner">
        
        
        
                <div id="img-content" class="rich_media_wrp">
          
          <h1 class="rich_media_title " id="activity-name">
            
代码注释的艺术，优秀代码真的不需要注释吗？
          </h1>
          <div id="meta_content" class="rich_media_meta_list">
                                                                  <span class="rich_media_meta rich_media_meta_text">
                                      聂晓龙（率鸽）
                                  </span>
                                      
                        <span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
              <a href="javascript:void(0);" class="wx_tap_link js_wx_tap_highlight weui-wa-hotarea" id="js_name">
                阿里开发者              </a>
              <div id="js_profile_qrcode" aria-hidden="true" class="profile_container" style="display:none;">
                <div class="profile_inner">
                  <strong class="profile_nickname">阿里开发者</strong>
                  <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                  <p class="profile_meta">
                  <label class="profile_meta_label">微信号</label>
                  <span class="profile_meta_value">ali_tech</span>
                  </p>

                  <p class="profile_meta">
                  <label class="profile_meta_label">功能介绍</label>
                  <span class="profile_meta_value">阿里巴巴官方技术号，关于阿里的技术创新均呈现于此。</span>
                  </p>
                </div>
                <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                  <i class="profile_arrow arrow_out"></i>
                  <i class="profile_arrow arrow_in"></i>
                </span>
              </div>
            </span>
            <em id="publish_time" class="rich_media_meta rich_media_meta_text"></em>
            <em id="js_ip_wording_wrp" class="rich_media_meta rich_media_meta_text" role="option" style="display: none;">发表于<span id="js_ip_wording" ></span></em>

          </div>

          
                                                    <div id="js_tags" class="article-tag__list" style="display: none;" data-len="0"
                      >
                          
              <div class="article-tag-card__title">收录于合集</div>
              <div class="article-tags">
                                                                </div>
                      </div>

          
                    
                                        

          
                      
            <div class="original_area_primary">
                                                        </div>

            
                                

          
                              
                                        
                    
                    
          
          <div class="rich_media_content                                       "
            id="js_content" style="visibility: hidden;">
            <p style="text-align: center;margin-bottom: 0em;"><img class="rich_pages wxw-img" data-galleryid="" data-ratio="0.625" data-s="300,640" data-type="jpeg" data-w="1024" style="height: auto !important;" src="https://images.weserv.nl/?url=https://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naIohPtQJfcNCrXMkbmXiaia6LbbQ8ENg1r057HSZhRa5ric4jib4CV0J8Jia74ib9ahyAtgBmUPfzZFu8uQ/640?wx_fmt=jpeg"  /></p><p style="text-align: center;margin-bottom: 0em;"><br  /></p><p style="text-align: center;margin-bottom: 0em;"><br  /></p><h1 data-spm-anchor-id="ata.21736010.0.i4.54d91f89Y2fBQI" style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></h1><h1 data-spm-anchor-id="ata.21736010.0.i4.54d91f89Y2fBQI" style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">前言</span></section></h1><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;caret-color: var(--weui-BRAND);letter-spacing: 0.034em;"><br  /></span></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;caret-color: var(--weui-BRAND);letter-spacing: 0.034em;">前天回家路上，有辆车强行插到前面的空位，司机大哥吐槽“加塞最可恶了”，我问“还有更可恶的吗”，司机大哥淡定说道“不让自己加塞的”。似乎和我们很类似，我们程序员届也有这2件相辅相成的事：最讨厌别人不写注释，更讨厌让自己写注释。</span><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">一段糟糕的代码，往往大家最低的预期是把注释写清楚，最合理的做法通常应该对代码做优化。如果我们将代码真正做到了优秀，我们是否还需要注释？</span></section><h1 style="line-height: 1.75em;"><br  /></h1><h1 style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></h1><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">注释的意义</span></section></h1><pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="markdown"><code><span class="code-snippet_outer">; <span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__emphasis">***</span>*</span></code><code><span class="code-snippet_outer">; <span class="code-snippet__bullet">* RAMinit Release 2.0 *</span></span></code><code><span class="code-snippet_outer">; <span class="code-snippet__bullet">* Copyright (c) 1989-1994 by Yellow Rose Software Co. *</span></span></code><code><span class="code-snippet_outer">; <span class="code-snippet__bullet">* Written by Mr. Leijun *</span></span></code><code><span class="code-snippet_outer">; <span class="code-snippet__bullet">* Press HotKey to remove all TSR program after this program *</span></span></code><code><span class="code-snippet_outer">; <span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__strong">*****</span><span class="code-snippet__emphasis">***</span>*</span></code><code><span class="code-snippet_outer">; Removed Softwares by RI:</span></code><code><span class="code-snippet_outer">; SPDOS v6.0F, WPS v3.0F</span></code><code><span class="code-snippet_outer">; Game Busters III, IV</span></code><code><span class="code-snippet_outer">; NETX ( Novell 3.11 )</span></code><code><span class="code-snippet_outer">; PC-CACHE</span></code><code><span class="code-snippet_outer">; Norton Cache</span></code><code><span class="code-snippet_outer">; Microsoft SmartDrv</span></code><code><span class="code-snippet_outer">; SideKick 1.56A</span></code><code><span class="code-snippet_outer">; MOUSE Driver</span></code><code><span class="code-snippet_outer">; Crazy (Monochrome simulate CGA program)</span></code><code><span class="code-snippet_outer">; RAMBIOS v2.0</span></code><code><span class="code-snippet_outer">; 386MAX Version 6.01</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></section></pre><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">注释是对代码的解释和说明，本质目的是为了增强程序的可读性与可解释性。注释会随着源代码，在进入预处理器或编译器处理后会被移除。这是雷布斯1994年写的一段MASM汇编代码，注释与代码整体结构都非常清晰。如果说代码是为了让机器读懂我们的指令，那注释完全就是为了让我们了解我们自己到底发出了哪些指令。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">争议与分歧</span></section></h1><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">注释的起源非常早，我们甚至已经查阅不到注释的由来，但现在任何一种语言，甚至几乎任何一种文本格式都支持各式各样的注释形式。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">但如何使用注释，其实一直是一个备受争论的话题。当我们接手一段‘祖传代码’时，没有注释的感觉简直让人抓狂，我们总是希望别人能提供更多的注释。但软件届也有一段神话传说，叫做『我的代码像诗一样优雅』。有注释的代码都存在着一些瑕疵，认为足够完美的代码是不需要注释的。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">坏代码的救命稻草</span></section></h1><p><br  /></p><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">The proper use of comments is to compensate for our failure to express ourself in code.<br style="box-sizing: inherit;"  />-- Robert C. Martin 《Clean Code》<br style="box-sizing: inherit;"  />译：注释的恰当用法是弥补我们在用代码表达意图时遭遇的失败</span></section></blockquote><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">Clean Code</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">&nbsp;的作者Robert C. Martin可以说是注释的极力否定者了，他认为注释是一种失败，当我们无法找到不用注释就能表达自我的方法时，才会使用注释，任何一次注释的使用，我们都应该意识到是自己表达能力上的失败。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">PH&amp;V的系统架构师和负责人Peter Vogel，同样也是一名坚定的注释否定着，他发表了一篇文章&nbsp;</span><span style="font-size: 15px;color: rgb(62, 62, 62);">why commenting code is still bad</span><span style="font-size: 15px;color: rgb(62, 62, 62);">&nbsp;来表述为代码添加注释在某种程度上可能是必要的，但确实没有价值。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">事实上，我们也确实经历着非常多无价值的注释，以及完全应由代码来承担解释工作的“职能错位”的注释。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;">零注释</strong></p></section></section><section style="display: inline-block;vertical-align: middle;width: auto;align-self: center;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section></section><p><img class="rich_pages wxw-img" data-ratio="0.36888331242158096" data-type="png" data-w="1594" style="box-sizing: inherit;border: 0px;max-width: 100%;display: block;margin: 0px;height: auto !important;" src="https://images.weserv.nl/?url=https://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPsH6UlThlHWFyoic3mmljkk3JDLicCX1mVMgcibpkZxicicklvnDgEcRnaGGw/640?wx_fmt=png"  /></p><section style="line-height: 1.75em;"><br style="box-sizing: inherit;"  /><span style="font-size: 15px;color: rgb(62, 62, 62);">糟糕的代码加上完全不存在的注释，我喜欢称呼它们为『我和上帝之间的秘密』，当然过2个月后也可以称之为『上帝一个人的秘密』。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">压垮程序员最后一根稻草的，往往都是零注释。可以没有文档，可以没有设计，但如果没有注释，我们每一次阅读都是灾难性的。当我们抱怨它一行注释都没有时，其实我们是在抱怨我们很难理解代码想要表达的含义，注释是直接原因，但根本原因是代码。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">零注释往往和坏代码一起生活，“没有注释”的吐槽，其实本质上直击的是那堆歪七扭八的英文字母，到底它们想表达什么！</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">无用注释</strong></strong></p></section></section></section></section></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/**</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * returns the last day of the month</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * @return the last day of the month</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__function"><span class="code-snippet__keyword">public</span> Date <span class="code-snippet__title">getLastDayOfMonth</span>(<span class="code-snippet__params">Date date</span>)</span> {</span></code><code><span class="code-snippet_outer">    Calendar calendar = <span class="code-snippet__keyword">new</span> GregorianCalendar();</span></code><code><span class="code-snippet_outer">    calendar.setTime(date);</span></code><code><span class="code-snippet_outer">    calendar.<span class="code-snippet__keyword">set</span>(Calendar.DAY_OF_MONTH, calendar.getActualMaximum(Calendar.DAY_OF_MONTH));</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">return</span> calendar.getTime();</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">这是典型的废话注释，读代码时代码本身就能很好的表达具体的含义，我们完全不需要看注释，并且注释也不会给我们提供更多有效的信息。无用注释或许是零注释的另一个极端，我们担心自己写的代码被人所吐槽，于是尽可能去补全注释，当你为 getLastDayOfMonth()&nbsp;补一段 get last day of month 的注释时，恭喜你，你得到了双倍的代码。</span></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">代码优于注释</strong></strong></p></section></section></section></section></section><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">"Comments Do Not Make Up for Bad Code"<br style="box-sizing: inherit;"  />-- Robert C.Martin 《Clean Code》<br style="box-sizing: inherit;"  />译：注释不能美化糟糕的代码</span></section></blockquote><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">当需要为一段代码加上注释时，说明代码已经不能很好的表达意图，于是大家开始为这段代码添加注释。Robert C.Martin在&nbsp;</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">Clean Code</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">&nbsp;中提出一个观点：注释不能美化糟糕的代码。能用代码表达的直接用代码表达，不能用代码表达的，你再想想，如何能用代码表达。</span><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">复杂的代码最直接的表现就是不够直观、难以理解，加上注释后往往会清晰很多，但你是愿意看这段代码</span></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__comment">// 判断是否活跃用户</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">if</span>((customer.getLastLoginTime().after(dateUtils.minusDays(<span class="code-snippet__keyword">new</span> <span class="code-snippet__built_in">Date</span>(),<span class="code-snippet__number">15</span>)) &amp;&amp; customer.getCommentsLast30Days() &gt; <span class="code-snippet__number">5</span>) </span></code><code><span class="code-snippet_outer">    || orderService.countRecentDaysByCustomer(customer,<span class="code-snippet__number">30</span>) &gt; <span class="code-snippet__number">1</span>)</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></section></pre><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"><br  /></span></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">还是这段代码？</span><br  /></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">if</span>(customer.isActive())</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">糟糕代码的存在，通常是我们写注释的常见动机之一。这种试图粉饰可读性差的代码的注释称之为『拐杖式注释』，即使大名鼎鼎的JDK，也存在这样的拐杖式注释。</span></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="java"><code><span class="code-snippet_outer"><span class="code-snippet__function"><span class="code-snippet__keyword">public</span> <span class="code-snippet__keyword">synchronized</span> <span class="code-snippet__keyword">void</span> <span class="code-snippet__title">setFormatter</span><span class="code-snippet__params">(Formatter newFormatter)</span> </span>{</span></code><code><span class="code-snippet_outer">    checkPermission();</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// Check for a null pointer</span></span></code><code><span class="code-snippet_outer">    newFormatter.getClass();</span></code><code><span class="code-snippet_outer">    formatter = newFormatter;</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">这是取自JDK java.util.logging.Handler类的setFormatter方法，作者为了不让空指针异常下传，提前做一次空指针检查。没有这段注释我们完全不知道游离的这句 newFormatter.getClass()&nbsp;到底要做什么，这段注释也充分表达了作者自己也知道这句代码难以理解，所以他加上了注释进行说明。但我们完全可以用 Objects.requireNonNull()&nbsp;来进行替代。同样的代码作用，但可读性可理解性大不一样，JDK里的这段代码，确实让人遗憾。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">注释否定论</strong></strong></p></section></section></section></section></section><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">"If our programming languages were expressive enough, or if we had the talent to subtly wield those languages to express our intent, we would not need comments very much—perhaps not at all."<br style="box-sizing: inherit;"  />-- Robert C.Martin 《Clean Code》<br style="box-sizing: inherit;"  />译：若编程语言足够有表达力，或者我们长于用这些语言来表达意图，就不那么需要注释--也许根本不需要</span></section></blockquote><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">通过代码进行阐述，是注释否定论的核心思想。当你花功夫来想如何写注释，让这段代码更好的表达含义时，我们更应该重构它，通过代码来解释我们的意图。每一次注释的编写，都是对我们代码表达能力上的差评，提升我们的归纳、表达、解释能力，更优于通过注释来解决问题。当代码足够优秀时，注释则是非必须的。并且需求在不断调整，代码一定会随之变动，但注释可能慢慢被人遗忘，当代码与注释不匹配时，将是更大的灾难。</span><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">软件设计的乌托邦</span></section></h1><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">曾经我的确对优秀的代码不断钻研，对代码本身所蕴含的能量无比坚信。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">如同当科学代替鬼神论走上历史舞台时，即使存在有科学解释不了，我们依然坚信只是科学还需要发展。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">当代码别人无法理解时，我会认为是我表述不够精准，抽象不够合理，然后去重构去完善。</span><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">有一次给老板review代码，当时老板提出，“你的代码缺缺少注释”，我说不需要注释，代码就能自解释。于是老板现场读了一段代码，“query-customer-list 查询客户”、“transfer-customer-to-sales 分发客户到销售”、“check-sales-capacity 检查销售库容”，每一个类每一个函数，一个单词一个单词往外蹦时，你会发现好像确实都能读懂，于是老板回了一个“好吧”。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">美丽的乌托邦</strong></strong></p></section></section></section></section></section><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">"'good code is self-documenting' is a delicious myth"<br style="box-sizing: inherit;"  />-- John Ousterhout《A Philosophy of Software Design》<br style="box-sizing: inherit;"  />译：‘好的代码自解释’是一个美丽的谎言</span></section></blockquote><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">在软件设计中，总有一些软件工程师所坚信的诗和远方，有的是大洋彼岸的美好国度，有的或许是虚无缥缈的理想乌托邦。John Ousterhout教授在&nbsp;</span><span style="font-size: 15px;color: rgb(62, 62, 62);">A Philosophy of Software Design</span><span style="font-size: 15px;color: rgb(62, 62, 62);">&nbsp;中提到一个观念，‘好的代码自解释’是一个美丽的谎言。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">我们可以通过选择更好的变量名，更准确的类与方法，更合理的继承与派生来减少注释，但尽快如此，我们还是有非常多的信息无法直接通过代码来表达。这里的信息，或许不单单只是业务逻辑与技术设计，可能还包括了我们的观感，我们的体验，我们的接纳程度以及第一印象带来的首因效应。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: middle;width: auto;align-self: center;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section></section><h1 style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;color: rgb(62, 62, 62);font-size: 14px;line-height: 1;text-align: justify;font-style: normal;font-weight: 400;"></h1><h1 data-spm-anchor-id="ata.21736010.0.i7.54d91f89Y2fBQI" style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">好代码的最佳僚机</span></section></h1><p><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;"></span><br  /></p><h1 data-spm-anchor-id="ata.21736010.0.i7.54d91f89Y2fBQI" style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"></h1><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">You might think the purpose of commenting is to 'explain what the code does', but that is just a small part of it.The purpose of commenting is to help the reader know as much as the writer did.<br style="box-sizing: inherit;"  />译：你可能以为注释的目的是“解释代码做了什么”，但这只是其中很小一部分，注释的目的是尽量帮助读者了解得和作者一样多<br style="box-sizing: inherit;"  />-- Dustin Boswell《The Art of Readable Code》</span></section></blockquote><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">如同John Ousterhout教授一样，</span><span style="font-size: 15px;color: rgb(62, 62, 62);">The Art of Readable Code</span><span style="font-size: 15px;color: rgb(62, 62, 62);">&nbsp;的作者Dustin Boswell，也是一个坚定的注释支持者。与Robert C.Martin类似，Dustin Boswell同样认为我们不应该为那些从代码本身就能快速推断的事实写注释，并且他也反对拐杖式注释，注释不能美化代码。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">但Dustin Boswell认为注释的目的不仅解释了代码在做什么，甚至这只是一小部分，注释最重要的目的是帮助读者了解得和作者一样多&nbsp;。编写注释时，我们需要站在读者的角度，去想想他们知道什么，这是注释的核心。这里有非常多的空间是代码很难阐述或无法阐述的，配上注释的代码并非就是糟糕的代码，相反有些时候，注释还是好代码最棒的僚机。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">更精准表述</strong></strong></p></section></section></section></section></section><blockquote><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(136, 136, 136);">There are only two hard things in Computer Science: cache invalidation and naming things.<br style="box-sizing: inherit;"  />-- Phil Karlton<br style="box-sizing: inherit;"  />译：计算机科学中只有两个难题：缓存失效和命名&nbsp;</span></section></blockquote><section style="line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="line-height: 1.75em;"><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">Martin Fowler在他的&nbsp;</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">TwoHardThings</span><span style="font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(62, 62, 62);">&nbsp;文章中引用了Phil Karlton的一段话，命名一直都是一件非常难的事情，因为我们需要将所有含义浓缩到几个单词中表达。很早之前学Java，接触到很长的类名是ClassPathXmlApplicationContext。可能有人认为只要能将含义准确地表达出来，名字长一些无所谓。那如果我们需要有一段处理有关“一带一路”的内容，那我们的代码可能是这样的&nbsp;</span><br  /></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">public</span> <span class="code-snippet__keyword">class</span> <span class="code-snippet__title">TheSilkRoadEconomicBeltAndThe21stCenturyMaritimeSilkRoad</span> {</span></code><code><span class="code-snippet_outer"><br  /></span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">他非常准确的表达了含义，但很明显这不是我们期望的代码。但如果我们辅以简单的注释，代码会非常清晰，说明了简称，也说明了全意，表述更精准。</span></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/**</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * 一带一路</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * 丝绸之路经济带和21世纪海上丝绸之路</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">public</span> <span class="code-snippet__keyword">class</span> <span class="code-snippet__title">OneBeltOneRoad</span> {</span></code><code><span class="code-snippet_outer"><br  /></span></code><code><span class="code-snippet_outer">}</span></code></pre></section><h2 style="line-height: 1.75em;"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><br  /></strong></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><br  /></strong></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><br  /></strong></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;">代码层次切割</strong></p></section></section></section></section></section></section></section></h2><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">函数抽取是我们经常使用且成本最低的重构方法之一，但并非银弹。函数并非抽得越细越好，如同分布式系统中，并非无限的堆机器让每台机器处理的数据越少，整体就会越快。过深的嵌套封装，会加大我们的代码阅读成本，有时我们只需要有一定的层次与结构帮助我们理解就够了，盲目的抽取封装是无意义的。</span></section><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/**</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * 客户列表查询</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__function"><span class="code-snippet__keyword">public</span> List <span class="code-snippet__title">queryCustomerList</span>(<span class="code-snippet__params"></span>)</span>{</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// 查询参数准备</span></span></code><code><span class="code-snippet_outer">    UserInfo userInfo = context.getLoginContext().getUserInfo();</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">if</span>(userInfo == <span class="code-snippet__literal">null</span> || StringUtils.isBlank(userInfo.getUserId())){</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">return</span> Collections.emptyList();</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    LoginDTO loginDTO = userInfoConvertor.convertUserInfo2LoginDTO(userInfo);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// 查询客户信息</span></span></code><code><span class="code-snippet_outer">    List&lt;CustomerSearchVO&gt; customerSearchList = customerRemoteQueryService.query(loginDTO);</span></code><code><span class="code-snippet_outer">    Iterable&lt;CustomerSearchVO&gt; it = customerSearchList.iterator();</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// 排除不合规客户</span></span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">while</span>(it.hasNext()){</span></code><code><span class="code-snippet_outer">        CustomerSearchVO customerSearchVO = it.next(); </span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">if</span>(isInBlackList(customerSearchVO) || isLowQuality(customerSearchVO)){</span></code><code><span class="code-snippet_outer">            it.<span class="code-snippet__keyword">remove</span>();</span></code><code><span class="code-snippet_outer">        }</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// 补充客户其他属性信息</span></span></code><code><span class="code-snippet_outer">    batchFillCustomerPositionInfo(customerSearchList);</span></code><code><span class="code-snippet_outer">    batchFillCustomerAddressInfo(customerSearchList);</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">其实细看每一处代码，都很容易让人理解。但如果是一版没有注释的代码，可能我们会有点头疼。缺少结构缺少分层，是让我们大脑第一感观觉得它很复杂，需要一次性消化多个内容。通过注释将代码层次进行切割，是一次抽象层次的划分。同时也不建议大家不断去抽象私有方法，这样代码会变得非常割裂，并且上下文的背景逻辑、参数的传递等等，都会带来额外的麻烦。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">母语的力量</strong></strong></p></section></section></section></section></section><section style="line-height: 1.75em;"><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">其实上述例子，我们更易阅读，还有一个重要的原因，那就是母语的力量。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">我们天然所经历的环境与我们每天所接触到的事物，让我们对中文与英文有完全不一样的感受。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">我们代码的编写本质上是一个将我们沟通中的“中文问题”，翻译成“英文代码”来实现的过程。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">而阅读代码的人在做得，是一件将“英文代码”翻译成“中文表述”的事情。</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">而这之中经过的环节越多，意思变味越严重。</span><br  /></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer">TaskDispatch taskDispatch = TaskDispatchBuilder.newBuilder().withExceptionIgnore().build();</span></code><code><span class="code-snippet_outer">taskDispatch</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 外贸信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillForeignTradeInfoTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 国民经济行业、电商平台、注册资本</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustOutterInfoTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 客户信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustomerOriginAndCategoryTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 客户扩展信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustExtInfoTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 收藏屏蔽信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCollectStatusInfoTask(targetCustomer, sourceInfo, loginDTO()))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 详情页跳转需要的标签信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillTagInstanceTask(targetCustomer, sourceInfo, loginDTO()))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 客户信息完整度分数</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustomerScoreTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 潜客分层完整度</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustomerSegmentationTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 填充操作信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillOperationStatusTask(targetCustomer, sourceInfo, loginDTO))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 认证状态</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillAvStatusTask(targetCustomer, loginDTO))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 客户地址和组织</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCompanyAddressTask(targetCustomer, loginDTO))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 违规信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillPunishInfoTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 填充客户黑名单信息</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustomerBlackStatusTask(targetCustomer, sourceInfo))</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 填充客户意愿度</span></span></code><code><span class="code-snippet_outer">        .<span class="code-snippet__keyword">join</span>(<span class="code-snippet__keyword">new</span> FillCustIntentionLevelTask(targetCustomer, sourceInfo));</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// 执行</span></span></code><code><span class="code-snippet_outer">        .execute();</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">这是一段补齐客户全数据信息的代码，虽然每一个英文我们都看得懂，但我们永远只会第一眼去看注释，就因为它是中文。并且也因为有这些注释，这里非常复杂的业务逻辑，我们同样可以非常清晰的了解到它做了哪些，分哪几步，如果要优化应该如何处理。这里也建议大家写中文注释，注释是一种说明，越直观越好。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">注释的真正归属</span></section></h1><h2 style="line-height: 1.75em;"><br  /></h2><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">复杂的业务逻辑</strong></strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__comment">// Fail if we're already creating this bean instance:</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">// We're assumably within a circular reference.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">if</span> (isPrototypeCurrentlyInCreation(beanName)) {</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">throw</span> <span class="code-snippet__keyword">new</span> BeanCurrentlyInCreationException(beanName);</span></code><code><span class="code-snippet_outer">}</span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment">// Check if bean definition exists in this factory.</span></span></code><code><span class="code-snippet_outer">BeanFactory parentBeanFactory = getParentBeanFactory();</span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">if</span> (parentBeanFactory != <span class="code-snippet__literal">null</span> &amp;&amp; !containsBeanDefinition(beanName)) {</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// Not found -&gt; check parent.</span></span></code><code><span class="code-snippet_outer">    <span class="code-snippet__built_in">String</span> nameToLookup = originalBeanName(name);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">if</span> (args != <span class="code-snippet__literal">null</span>) {</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// Delegation to parent with explicit args.</span></span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">return</span> parentBeanFactory.getBean(nameToLookup, args);</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">else</span> {</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__comment">// No args -&gt; delegate to standard getBean method.</span></span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">return</span> parentBeanFactory.getBean(nameToLookup, requiredType);</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></section></pre><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">这是Spring中的一段获取bean的代码，spring作为容器管理，获取bean的逻辑也非常复杂。对于复杂的业务场景，配上必要的注释说明，可以更好的理解相应的业务场景与实现逻辑。<br style="box-sizing: inherit;"  />截取自：</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">org.springframework.beans.factory.support.AbstractBeanFactory#doGetBean</span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="text-align: left;box-sizing: border-box;"><br  /></strong></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="text-align: left;box-sizing: border-box;"><br  /></strong></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="text-align: left;box-sizing: border-box;">晦涩的算法公式</strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="go"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/**</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * Returns the value obtained by reversing the order of the bits in the</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * two's complement binary representation of the specified {@code long}</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * value.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code><code><span class="code-snippet_outer">public static long reverse(long i) {</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__comment">// HD, Figure 7-1</span></span></code><code><span class="code-snippet_outer">    i = (i &amp; <span class="code-snippet__number">0x5555555555555555</span>L) &lt;&lt; <span class="code-snippet__number">1</span> | (i &gt;&gt;&gt; <span class="code-snippet__number">1</span>) &amp; <span class="code-snippet__number">0x5555555555555555</span>L;</span></code><code><span class="code-snippet_outer">    i = (i &amp; <span class="code-snippet__number">0x3333333333333333</span>L) &lt;&lt; <span class="code-snippet__number">2</span> | (i &gt;&gt;&gt; <span class="code-snippet__number">2</span>) &amp; <span class="code-snippet__number">0x3333333333333333</span>L;</span></code><code><span class="code-snippet_outer">    i = (i &amp; <span class="code-snippet__number">0x0f0f0f0f0f0f0f0f</span>L) &lt;&lt; <span class="code-snippet__number">4</span> | (i &gt;&gt;&gt; <span class="code-snippet__number">4</span>) &amp; <span class="code-snippet__number">0x0f0f0f0f0f0f0f0f</span>L;</span></code><code><span class="code-snippet_outer">    i = (i &amp; <span class="code-snippet__number">0x00ff00ff00ff00ff</span>L) &lt;&lt; <span class="code-snippet__number">8</span> | (i &gt;&gt;&gt; <span class="code-snippet__number">8</span>) &amp; <span class="code-snippet__number">0x00ff00ff00ff00ff</span>L;</span></code><code><span class="code-snippet_outer">    i = (i &lt;&lt; <span class="code-snippet__number">48</span>) | ((i &amp; <span class="code-snippet__number">0xffff</span>0000L) &lt;&lt; <span class="code-snippet__number">16</span>) |</span></code><code><span class="code-snippet_outer">        ((i &gt;&gt;&gt; <span class="code-snippet__number">16</span>) &amp; <span class="code-snippet__number">0xffff</span>0000L) | (i &gt;&gt;&gt; <span class="code-snippet__number">48</span>);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">return</span> i;</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">这是JDK中Long类中的一个方法，为reverse方法添加了足够多的注释。对于几乎没有改动且使用频繁的底层代码，性能的优先级会高于可读性。在保证高效的同时，注释帮助我们弥补了可读性的短板。<br style="box-sizing: inherit;"  />截取自java.lang.Long#reverse</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">不明所以的常量</strong></strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="cs"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/**</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * The bin count threshold for using a tree rather than list for a</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * bin.  Bins are converted to trees when adding an element to a</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * bin with at least this many nodes. The value must be greater</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * than 2 and should be at least 8 to mesh with assumptions in</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * tree removal about conversion back to plain bins upon</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * shrinkage.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__keyword">static</span> final <span class="code-snippet__keyword">int</span> TREEIFY_THRESHOLD = <span class="code-snippet__number">8</span>;</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">这是JDK中HashMap的一个常量因子，记录由链表转向红黑树的链表长度阈值，超过该长度则链表转为红黑树。这里记录了一个8，不仅记录了该常量的用途，也记录了为什么我们定义这个值。经常我们会发现我们代码中存在一个常量等于3、等于4，有时我们不知道这些3和4是干什么的，有时我们不知道为什么是3和4。<br style="box-sizing: inherit;"  />截取自java.util.HashMap#TREEIFY_THRESHOLD</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">意料之外的行为</strong></strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="perl"><code><span class="code-snippet_outer"><span class="code-snippet__keyword">for</span> (<span class="code-snippet__keyword">int</span> i = <span class="code-snippet__number">0</span>; i &lt; <span class="code-snippet__number">3</span>; i++) {</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__regexp">//</span> <span class="code-snippet__keyword">if</span> task running, invoke only check result ready <span class="code-snippet__keyword">or</span> <span class="code-snippet__keyword">not</span></span></code><code><span class="code-snippet_outer">    Result result = bigDataQueryService.queryBySQL(sql, token);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">if</span> (SUCCESS.equals(result.getStatus())) {</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">return</span> result.getValue();</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    Thread.sleep(<span class="code-snippet__number">5000</span>);</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">代码及注释所示为每5秒check一下是否有结果返回，远程服务将触发与获取放在了一个接口。没有注释我们可能认为这段代码有问题，代码表现的含义更像是每5秒调用一次，而非每5秒check一次。为意料之外的行为添加注释，可以减少对代码的误解读，并向读者说明必要的背景及逻辑信息。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">接口对外API</strong></strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="bash"><code><span class="code-snippet_outer">/**</span></code><code><span class="code-snippet_outer"> * &lt;p&gt;Checks <span class="code-snippet__keyword">if</span> a CharSequence is empty (<span class="code-snippet__string">""</span>), null or whitespace only.&lt;/p&gt;</span></code><code><span class="code-snippet_outer"> * &lt;p&gt;Whitespace is defined by {@link Character<span class="code-snippet__comment">#isWhitespace(char)}.&lt;/p&gt;</span></span></code><code><span class="code-snippet_outer"> * StringUtils.isBlank(null)      = <span class="code-snippet__literal">true</span></span></code><code><span class="code-snippet_outer"> * StringUtils.isBlank(<span class="code-snippet__string">""</span>)        = <span class="code-snippet__literal">true</span></span></code><code><span class="code-snippet_outer"> * StringUtils.isBlank(<span class="code-snippet__string">" "</span>)       = <span class="code-snippet__literal">true</span></span></code><code><span class="code-snippet_outer"> * StringUtils.isBlank(<span class="code-snippet__string">"bob"</span>)     = <span class="code-snippet__literal">false</span></span></code><code><span class="code-snippet_outer"> * StringUtils.isBlank(<span class="code-snippet__string">"  bob  "</span>) = <span class="code-snippet__literal">false</span></span></code><code><span class="code-snippet_outer"> *</span></code><code><span class="code-snippet_outer"> * @param cs  the CharSequence to check, may be null</span></code><code><span class="code-snippet_outer"> * @<span class="code-snippet__built_in">return</span> {@code <span class="code-snippet__literal">true</span>} <span class="code-snippet__keyword">if</span> the CharSequence is null, empty or whitespace only</span></code><code><span class="code-snippet_outer"> */</span></code><code><span class="code-snippet_outer">public static boolean isBlank(final CharSequence cs) {</span></code><code><span class="code-snippet_outer">    final int strLen = length(cs);</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">if</span> (strLen == 0) {</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__built_in">return</span> <span class="code-snippet__literal">true</span>;</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__keyword">for</span> (int i = 0; i &lt; strLen; i++) {</span></code><code><span class="code-snippet_outer">        <span class="code-snippet__keyword">if</span> (!Character.isWhitespace(cs.charAt(i))) {</span></code><code><span class="code-snippet_outer">            <span class="code-snippet__built_in">return</span> <span class="code-snippet__literal">false</span>;</span></code><code><span class="code-snippet_outer">        }</span></code><code><span class="code-snippet_outer">    }</span></code><code><span class="code-snippet_outer">    <span class="code-snippet__built_in">return</span> <span class="code-snippet__literal">true</span>;</span></code><code><span class="code-snippet_outer">}</span></code></pre></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"></span></section></pre><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">我们经常使用的StringUtils工具类中的isBlank方法，写了非常详情的注释，不仅包括方法的逻辑，入参的含义，甚至还包括具体示例。我们平常定义的二方库中的HSF、HTTP接口定义，同样需要有清晰详尽的注释，这里的注释甚至经常会多过你的代码。<br style="box-sizing: inherit;"  />截取自org.apache.commons.lang3.StringUtils#isBlank</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: left;justify-content: flex-start;margin: 10px 0%;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: auto;align-self: flex-end;flex: 0 0 0%;height: auto;line-height: 0;padding: 0px;box-sizing: border-box;"><section style="text-align: right;justify-content: flex-end;box-sizing: border-box;" powered-by="xiumi.us"><section style="display: inline-block;width: 18px;height: 18px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section><section style="display: inline-block;vertical-align: bottom;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: flex-end;box-sizing: border-box;"><section style="color: rgb(62, 62, 62);font-size: 14px;padding: 0px 4px;line-height: 1;text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><strong style="margin: 0px;padding: 0px;color: rgb(62, 62, 62);font-family: mp-quote, -apple-system-font, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: normal;orphans: 2;text-align: left;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;box-sizing: border-box;">法律文件信息</strong></strong></p></section></section></section></section></section><pre><section class="code-snippet__fix code-snippet__js"><ul class="code-snippet__line-index code-snippet__js"><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul><pre class="code-snippet__js" data-lang="javascript"><code><span class="code-snippet_outer"><span class="code-snippet__comment">/*</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * Licensed to the Apache Software Foundation (ASF) under one or more</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * contributor license agreements.  See the NOTICE file distributed with</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * this work for additional information regarding copyright ownership.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * The ASF licenses this file to You under the Apache License, Version 2.0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * (the "License"); you may not use this file except in compliance with</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * the License.  You may obtain a copy of the License at</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> *</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> *      http://www.apache.org/licenses/LICENSE-2.0</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> *</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * Unless required by applicable law or agreed to in writing, software</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * distributed under the License is distributed on an "AS IS" BASIS,</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * See the License for the specific language governing permissions and</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> * limitations under the License.</span></span></code><code><span class="code-snippet_outer"><span class="code-snippet__comment"> */</span></span></code></pre></section><section style="line-height: 1.75em;"><br  /></section></pre><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">与法律相关的注释，在开源软件库中较经常遇到。涉及到一些版权及著作声明时，我们需要在源文件顶部放置法律相关注释。当然，我们不需要将所有法律信息写到注释中，如例子中的跳链，引用一份标准的外部文档，会是一个更好的选择。</span></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);"><br  /></span></section><h1 style="margin: 10px 0px;padding: 0px;outline: 0px;font-weight: 400;font-size: 16px;max-width: 100%;box-sizing: border-box;color: rgb(34, 34, 34);font-family: -apple-system, system-ui, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;letter-spacing: 0.544px;orphans: 2;text-indent: 0px;text-transform: none;white-space: normal;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;background-color: rgb(255, 255, 255);visibility: visible;text-align: center;overflow-wrap: break-word !important;"><section style="margin: 0px;padding: 3px;outline: 0px;max-width: 100%;box-sizing: border-box;overflow-wrap: break-word !important;display: inline-block;border-bottom: 5px solid rgb(255, 129, 36);visibility: visible;"><span style="margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgb(62, 62, 62);visibility: visible;">写在最后</span></section></h1><section style="line-height: 1.75em;"><br  /></section><section style="line-height: 1.75em;"><span style="font-size: 15px;color: rgb(62, 62, 62);">注释并不会妨碍你写出优雅简洁的代码，它只是程序固有的一部分而已。我们不用过分在意我们的代码是否可以脱离注释，也不需要强调因为我们的代码符合什么原则，满足什么约定，所以代码是优秀的注释是冗余的。<strong>代码是一门艺术，并不会因为满足三规九条它就一定完美，因为艺术，是不可衡量的。</strong></span></section><section style="text-align: left;"><strong><span style="font-size: 15px;color: rgb(62, 62, 62);">参阅书籍</span></strong><span style="font-size: 15px;color: rgb(62, 62, 62);"><br style="box-sizing: inherit;"  /></span><span style="font-size: 15px;color: rgb(62, 62, 62);">《A Philosophy of Software Design》：https://www.amazon.com/-/zh/dp/173210221X/ref=sr_1_1</span></section><section style="line-height: 1.75em;text-align: left;"><span style="font-size: 15px;color: rgb(62, 62, 62);">《Clean Code》：</span><span style="color: rgb(62, 62, 62);font-size: 15px;font-family: mp-quote, -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;">https://baike.baidu.com/item/代码整洁之道/9226259</span></section><section style="line-height: 1.75em;text-align: left;"><span style="font-size: 15px;color: rgb(62, 62, 62);">《The Art of Readable Code》：https://github.com/niexiaolong/niexiaolong.github.io/blob/master/the-art-of-readable-code.pdf</span></section><hr style="border-style: solid;border-width: 1px 0 0;border-color: rgba(0,0,0,0.1);-webkit-transform-origin: 0 0;-webkit-transform: scale(1, 0.5);transform-origin: 0 0;transform: scale(1, 0.5);"  /><section style="line-height: 1.75em;"><br  /></section><section style="font-size: 15px;box-sizing: border-box;font-style: normal;font-weight: 400;text-align: justify;"><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="text-align: center;justify-content: center;margin: 10px 0px;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;width: 100%;vertical-align: top;flex: 0 0 auto;height: auto;background-color: rgba(250, 151, 43, 0.06);padding: 22px 40px 40px;align-self: flex-start;box-sizing: border-box;"><section style="height: auto;box-sizing: border-box;" powered-by="xiumi.us"><section style="margin: 0px;text-align: left;justify-content: flex-start;display: flex;flex-flow: row nowrap;box-sizing: border-box;"><section style="display: inline-block;vertical-align: middle;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: center;box-sizing: border-box;"><section style="transform: perspective(0px);transform-style: flat;box-sizing: border-box;" powered-by="xiumi.us"><section style="transform: rotateX(180deg);margin: 0px;justify-content: flex-start;box-sizing: border-box;"><section style="display: inline-block;width: 14px;height: 14px;vertical-align: top;overflow: hidden;background-color: rgb(255, 129, 36);box-sizing: border-box;"><section><svg viewbox="0 0 1 1" style="float:left;line-height:0;width:0;vertical-align:top;"></svg></section></section></section></section></section><section style="display: inline-block;vertical-align: middle;width: auto;min-width: 10%;max-width: 100%;flex: 0 0 auto;height: auto;align-self: center;box-sizing: border-box;"><section style="font-size: 18px;color: rgb(62, 62, 62);text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><strong style="box-sizing: border-box;"><span style="font-size: 15px;box-sizing: border-box;">《你好，低代码》制造业最佳实践系列</span></strong></p></section></section></section></section><section style="text-align: justify;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"  /></p></section><section style="text-align: justify;font-size: 13px;box-sizing: border-box;" powered-by="xiumi.us"><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">深度解读低代码平台，走近宜搭，了解低代码在企业数字化中的实践和经验。<br style="box-sizing: border-box;"  /></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"  /></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">手把手教学库存管理系统，商品有序管理，库存精确计算等。</p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;"><br style="box-sizing: border-box;"  /></p><p style="white-space: normal;margin: 0px;padding: 0px;box-sizing: border-box;">点击阅读原文查看详情。</p></section><section style="box-sizing: border-box;" powered-by="xiumi.us"><section style="display: flex;flex-flow: row nowrap;text-align: right;justify-content: flex-end;margin: 10px 0px 0px;box-sizing: border-box;"><section style="display: inline-block;vertical-align: bottom;width: 46%;align-self: flex-end;flex: 0 0 auto;height: auto;box-sizing: border-box;"><section style="margin: 8px 0% 10px;justify-content: flex-end;transform: translate3d(21px, 0px, 0px);-webkit-transform: translate3d(21px, 0px, 0px);-moz-transform: translate3d(21px, 0px, 0px);-o-transform: translate3d(21px, 0px, 0px);box-sizing: border-box;" powered-by="xiumi.us"><section style="background-color: rgb(62, 62, 62);height: 1px;box-sizing: border-box;"><br  /></section></section></section></section></section></section></section></section></section>
          </div>

          <script type="text/javascript" nonce="1276091577" reportloaderror>
            var first_sceen__time = (+new Date());
            if ("" == 1 && document.getElementById('js_content')) {
              document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
            }
          </script>

          
<div id="js_sponsor_ad_area"></div>


           
                                
                    
        </div>
                        <div id="js_tags_preview_toast" class="article-tag__error-tips" style="display: none;">预览时标签不可点</div>
                
        
        <div id="js_album_keep_read" class="appmsg_card_context album_read_card" style="display: none;">
          <div role="button" class="album_read_hd weui-flex" id="js_album_directory">
            <div class="album_read_source">收录于合集 <span class="weui-link wx_tap_link js_album_directory__name">#<span id="js_album_keep_read_title"></span></span></div>
            <span class="weui-btn__word-wrp wx_tap_link js_album_directory__size">&nbsp;<span id="js_album_keep_read_size"></span><span class="weui-hidden_abs">个</span></span>
          </div>
          <div class="album_read_bd weui-flex">
            <span role="button" class="album_read_nav_item album_read_nav_prev weui-flex__item wx_tap_link js_wx_tap_highlight" id="js_album_prev">
              <span class="album_read_nav_inner">
                <span class="album_read_nav_btn">上一篇</span>
                <span class="album_read_nav_title">
                  <span class="album_read_nav_title_inner" id="js_album_keep_read_pre_title"></span>
                </span>
              </span>
            </span>
            <span role="button" class="album_read_nav_item album_read_nav_next weui-flex__item wx_tap_link js_wx_tap_highlight" id="js_album_next">
              <span class="album_read_nav_inner">
                <span class="album_read_nav_btn">下一篇</span>
                <span class="album_read_nav_title">
                  <span class="album_read_nav_title_inner" id="js_album_keep_read_next_title"></span>
                </span>
              </span>
            </span>
          </div>
        </div>

        

        
        <div id="content_bottom_area" class="rich_media_tool_area"></div>

              </div>
    </div>

    <div class="rich_media_area_primary sougou" id="sg_tj" style="display:none"></div>

    
    <div class="rich_media_area_extra">
      <div class="rich_media_area_extra_inner">
        
        <div class="wx_follow_container" id="js_like_profile_container"></div>
        
        <div class="related_container" id="js_related_container"></div>
        
        <div id="page_bottom_area"></div>
      </div>
    </div>

    
    <div id="js_pc_qr_code" class="qr_code_pc_outer" style="display:none;">
      <div class="qr_code_pc_inner">
        <div class="qr_code_pc">
          <img id="js_pc_qr_code_img" class="qr_code_pc_img">
          <p>微信扫一扫<br>关注该公众号</p>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="comment_primary_emotion_panel_wrp" id="js_emotion_panel_pc" style="display: none">
  <div class="comment_primary_emotion_panel">
    <ul class="comment_primary_emotion_list_pc" id="js_emotion_list_pc">
    </ul>
  </div>
</div>


<div class="weui-dialog__wrp" id="js_alert_panel" style="display:none;">
  <div class="weui-mask"></div>
  <div class="weui-dialog">
    <div class="weui-dialog__bd" id="js_alert_content"></div>
    <div class="weui-dialog__ft">
      <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_default" id="js_alert_confirm">知道了</a>
    </div>
  </div>
</div>


<script type="text/javascript" nonce="1276091577" reportloaderror>
  window.img_popup = 1; // 全量小程序弹窗
</script>


<div id="js_pc_weapp_code" class="weui-desktop-popover weui-desktop-popover_pos-up-center weui-desktop-popover_img-text" style="display: none;">
  <div class="weui-desktop-popover__content">
      <div class="weui-desktop-popover__desc">
          <img id="js_pc_weapp_code_img">
          微信扫一扫<br>使用小程序<span id="js_pc_weapp_code_des"></span>
      </div>
  </div>
</div>
<div id="js_minipro_dialog" role="dialog" aria-modal="true" tabindex="0" aria-labelledby="js_minipro_dialog_head" style="display:none;">
  <div class="weui-mask"></div>
  <div class="weui-dialog weui-dialog_link">
      <div class="weui-dialog__hd">
          <strong class="weui-dialog__title" id="js_minipro_dialog_head" tabindex="0"></strong>
      </div>
      <div class="weui-dialog__bd" id="js_minipro_dialog_body"></div>
      
      <div class="weui-dialog__ft">
          <a role="button" id="js_minipro_dialog_cancel" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_default">取消</a>
          <a role="button" id="js_minipro_dialog_ok" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_primary">允许</a>
      </div>
  </div>
</div>
<div id="js_link_dialog" role="dialog" aria-modal="true" tabindex="0" aria-labelledby="js_link_dialog_body" style="display:none;">
  <div class="weui-mask"></div>
  <div class="weui-dialog weui-dialog_link">
    <div class="weui-dialog__hd">
      <strong class="weui-dialog__title" id="js_link_dialog_head" tabindex="0"></strong>
    </div>
    <div class="weui-dialog__bd" id="js_link_dialog_body" tabindex="0"></div>
    
    <div class="weui-dialog__ft">
      <a role="button" id="js_link_dialog_cancel" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_default">取消</a>
      <a role="button" id="js_link_dialog_ok" href="javascript:void(0);" class="weui-dialog__btn weui-dialog__btn_primary">允许</a>
    </div>
  </div>
</div>



    <script type="text/javascript" nonce="1276091577" reportloaderror>
window.logs.pagetime.page_begin = Date.now();
</script>
    <script type="text/javascript" nonce="1276091577" reportloaderror>
var __DEBUGINFO = {
  debug_js: "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/debug/console5e92ab.js",
  safe_js: "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/biz_wap/safe/moonsafe5e92ab.js",
  res_list: []
};
</script>

<script type="text/javascript" nonce="1276091577" reportloaderror>
(function () {
  var totalCount = 0,
    finishCount = 0;

  function _loadVConsolePlugin() {
    window.vConsole = new window.VConsole();
    while (window.vConsolePlugins.length > 0) {
      var p = window.vConsolePlugins.shift();
      window.vConsole.addPlugin(p);
    }
    // 视频落地页h5有时候不会触发onload事件，导致vConsole无法渲染，这里手动强制渲染vConsole @baakqiu
    if (!window.vConsole.isInited) {
      window.vConsole._render();
      window.vConsole._mockTap();
      window.vConsole._bindEvent();
      window.vConsole._autoRun();
    }
  }

  function _addVConsole(uri, cb) {
    totalCount++;
    var node = document.createElement('SCRIPT');
    node.type = 'text/javascript';
    node.src = uri;
    node.setAttribute('nonce', '1276091577');
    if (cb) {
      node.onload = cb;
    }
    document.getElementsByTagName('head')[0].appendChild(node);
  }
  if (
    (document.cookie && document.cookie.indexOf('vconsole_open=1') > -1)
    || location.href.indexOf('vconsole=1') > -1
  ) {
    window.vConsolePlugins = [];
    _addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/3.2.2/vconsole.min5e92aa.js', function () {
      // _addVConsole('plugin/vconsole-sources/1.0.1/vconsole-sources.min.js');
      _addVConsole('//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/vconsole/plugin/vconsole-mpopt/1.0.1/vconsole-mpopt5e92aa.js', _loadVConsolePlugin);
    });
  }

  // // 广告iframe预加载
  try {
    var adIframeUrl = localStorage.getItem('__WXLS_ad_iframe_url');
    if (window === top) {
      if (adIframeUrl) {
        if (navigator.userAgent.indexOf('iPhone') > -1) {
          var img = new Image();
          img.src = adIframeUrl;
        } else {
          var link = document.createElement('link');
          link.rel = 'prefetch';
          link.href = adIframeUrl;
          document.getElementsByTagName('head')[0].appendChild(link);
        }
      }
    }
  } catch (err) {

  }

})();
</script>
    
    <script type="text/javascript" nonce="1276091577" reportloaderror>var __INLINE_SCRIPT__=function(){"use strict";var e=function(e,n){if(e.indexOf("——")>-1){e=e.replace(/——/g,'<span style="letter-spacing:normal">——</span>')}n&&(n.innerHTML=e)};if(!window.__second_open__){e("代码注释的艺术，优秀代码真的不需要注释吗？",document.getElementById("activity-name")),window.__setTitle=e}return e}();</script><script type="text/javascript" nonce="1276091577" reportloaderror>var __INLINE_SCRIPT__=function(){"use strict";var e=function(e,t,n,i){var _=new Date(1e3*(1*t)),o=function(e){return"0".concat(e).slice(-2)},r=_.getFullYear()+"-"+o(_.getMonth()+1)+"-"+o(_.getDate())+" "+o(_.getHours())+":"+o(_.getMinutes());i&&(i.innerText=r)};if(!window.__second_open__){e(0,"1655168403",0,document.getElementById("publish_time")),window.__setPubTime=e}return e}();</script>

<script type="text/javascript" nonce="1276091577" reportloaderror>
//兼容 IE
if (!window.console) window.console = { log: function() {} };
// 图片占位 @ekili
if (typeof getComputedStyle == 'undefined') {
  if (document.body.currentStyle) {
    window.getComputedStyle = function(el) {
      return el.currentStyle;
    }
  } else {
    window.getComputedStyle = {};
  }
}
// 图片和视频预加载逻辑，记得H5和秒开要对齐逻辑
(function(){
  window.__zoom = 1;

  var ua = navigator.userAgent.toLowerCase();
  var re = new RegExp("msie ([0-9]+[\.0-9]*)");
  var version;
  if (re.exec(ua) != null) {
    version = parseInt(RegExp.$1);
  }
  var isIE = false;
  if (typeof version != 'undefined' && version >= 6 && version <= 9) {
    isIE = true;
  }
  var bodyWidth = '' * 1;
  if (bodyWidth) {
    var styles = getComputedStyle(document.getElementById('page-content'));
    bodyWidth - parseFloat(styles.paddingLeft) - parseFloat(styles.paddingRight);
  }
  var getMaxWith = function () {
    var container = document.getElementById('img-content');
    var max_width = container.offsetWidth;
    !max_width && bodyWidth && (max_width = bodyWidth);
    var container_padding = 0;
    var container_style = getComputedStyle(container);
    container_padding = parseFloat(container_style.paddingLeft) + parseFloat(container_style.paddingRight);
    max_width -= container_padding;
    if (!max_width) {
      max_width = window.innerWidth - 30;      //防止offsetTop不可用，30为padding
    }
    return max_width;
  };
  var getParentWidth = function (dom) {
    var parent_width = 0;
    var parent = dom.parentNode;
    var outerWidth = 0;
    while (true) {
      if (!parent || parent.nodeType != 1) break;
      var parent_style = getComputedStyle(parent);
      if (!parent_style) break;
      parent_width = parent.clientWidth - parseFloat(parent_style.paddingLeft) - parseFloat(parent_style.paddingRight) - outerWidth;
      if (parent_width > 0) break;
      outerWidth += parseFloat(parent_style.paddingLeft) + parseFloat(parent_style.paddingRight) + parseFloat(parent_style.marginLeft) + parseFloat(parent_style.marginRight) + parseFloat(parent_style.borderLeftWidth) + parseFloat(parent_style.borderRightWidth);
      parent = parent.parentNode;
    }
    return parent_width;
  }
  var getOuterW = function (dom) {
    var style = getComputedStyle(dom),
      w = 0;
    if (!!style) {
      w = parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);
    }
    return w;
  };
  var getOuterH = function (dom) {
    var style = getComputedStyle(dom),
      h = 0;
    if (!!style) {
      h = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);
    }
    return h;
  };
  var insertAfter = function (dom, afterDom) {
    var _p = afterDom.parentNode;
    if (!_p) {
      return;
    }
    if (_p.lastChild === afterDom) {
      _p.appendChild(dom);
    } else {
      _p.insertBefore(dom, afterDom.nextSibling);
    }
  };
  var getQuery = function (name, url) {
    //参数：变量名，url为空则表从当前页面的url中取
    var u = arguments[1] || window.location.search,
      reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"),
      r = u.substr(u.indexOf("\?") + 1).match(reg);
    return r != null ? r[2] : "";
  };

  /**
    * 设置图片size
    *
    * @param {HTMLElement} item             图片元素
    * @param {number} widthNum         宽度数值
    * @param {string} widthUnit        宽度单位
    * @param {number} ratio            宽高比
    * @param {boolean} breakParentWidth 是否突破父元素宽度(父元素是否被撑大)
    */
  function setImgSize(item, widthNum, widthUnit, ratio, breakParentWidth) {
    setTimeout(function () {
      var img_padding_border = getOuterW(item) || 0;
      var img_padding_border_top_bottom = getOuterH(item) || 0;

      var isAccessibilityKey = 'isMpUserAccessibility';
      var isAccessMode = window.localStorage.getItem(isAccessibilityKey);

      // 如果设置的宽度超过了父元素最大宽度，则取父元素宽度
      if (widthNum > getParentWidth(item) && !breakParentWidth) {
        widthNum = getParentWidth(item);
      }

      height = (widthNum - img_padding_border) * ratio + img_padding_border_top_bottom;

      if (isIE || '0' === '1' || '' === '1' || isAccessMode === '1') { // 判一下是不是漫画原创，如果是，不走懒加载
        var url = item.getAttribute('data-src');
        item.src = url;

        // 不走懒加载但是需要跟懒加载一样去除占位高度
        item.style.height = 'auto';
      } else {
        if (parseFloat(widthNum, 10) > 40 && height > 40 && breakParentWidth) {
          item.className += ' img_loading';
        }
        item.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
        widthNum !== 'auto' && (item.style.cssText += ";width: " + widthNum + widthUnit + " !important;");
        widthNum !== 'auto' && (item.style.cssText += ";height: " + height + widthUnit + " !important;");
      }
    }, 10);
  }
  // 图片和视频预加载逻辑，记得H5和秒开要对齐逻辑
  (function () {
    var images = document.getElementsByTagName('img');
    var length = images.length;
    var max_width = getMaxWith();
    for (var i = 0; i < length; ++i) {
      if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
        continue;
      }
      var imageItem = images[i];
      var src_ = imageItem.getAttribute('data-src');
      var realSrc = imageItem.getAttribute('src');
      if (!src_ || realSrc) continue;
      // 图片原始宽度
      var originWidth = imageItem.getAttribute('data-w');
      var ratio_ = 1 * imageItem.getAttribute('data-ratio');

      var height = 100;
      if (ratio_ && ratio_ > 0) {
        var parent_width = getParentWidth(imageItem) || max_width;
        var initWidth = imageItem.style.width || imageItem.getAttribute('width') || originWidth || parent_width;
        initWidth = parseFloat(initWidth, 10) > max_width ? max_width : initWidth;
        // 有attribute或style中的width，写入_width属性，在图片加载完成时写入img标签
        if (initWidth) {
          imageItem.setAttribute('_width', !isNaN(initWidth * 1) ? initWidth + 'px' : initWidth);
        }
        // 使用百分比，则计算出像素宽度
        if (typeof initWidth === 'string' && initWidth.indexOf('%') !== -1) {
          initWidth = parseFloat(initWidth.replace('%', ''), 10) / 100 * parent_width;
        }
        // 使用auto，就是原始宽度
        if (initWidth === 'auto') {
          initWidth = originWidth;
        }

        var widthNum;
        var widthUnit;
        if (initWidth === 'auto') {
          widthNum = 'auto';
        } else {
          var res = /^(\d+(?:\.\d+)?)([a-zA-Z%]+)?$/.exec(initWidth);
          widthNum = res && res.length >= 2 ? res[1] : 0;
          widthUnit = res && res.length >= 3 && res[2] ? res[2] : 'px';
        }

        // 试探一下parent宽度在设置了图片的大小之后是否会变化
        setImgSize(imageItem, widthNum, widthUnit, ratio_, true);
        // 真正设置宽高
        (function (item, widthNumber, unit, ratio) {
          setTimeout(function () {
            setImgSize(item, widthNumber, unit, ratio, false);
          });
        })(imageItem, widthNum, widthUnit, ratio_);
      } else {
        imageItem.style.cssText += ";visibility: hidden !important;";
      }
  }
  })();
  window.__videoDefaultRatio = 16 / 9;//默认值是16/9
  window.__getVideoWh = function (dom) {
    var max_width = getMaxWith(),
      width = max_width,
      ratio_ = dom.getAttribute('data-ratio') * 1,//mark16/9
      arr = [4 / 3, 16 / 9],
      ret = arr[0],
      abs = Math.abs(ret - ratio_);
    if (!ratio_) { // 没有比例
      if (dom.getAttribute("data-mpvid")) { // MP视频
        ratio_ = 16 / 9;
      } else { // 非MP视频，需要兼容历史图文
        ratio_ = 4 / 3;
      }
    } else { // 有比例，则判断更接近4/3还是更接近16/9
      for (var j = 1, jl = arr.length; j < jl; j++) {
        var _abs = Math.abs(arr[j] - ratio_);
        if (_abs < abs) {
          abs = _abs;
          ret = arr[j];
        }
      }
      ratio_ = ret;
    }

    var parent_width = getParentWidth(dom) || max_width,
      width = width > parent_width ? parent_width : width,
      outerW = getOuterW(dom) || 0,
      outerH = getOuterH(dom) || 0,
      videoW = width - outerW,
      videoH = videoW / ratio_,
      speedDotH = 12, // 播放器新样式的进度条在最下面，为了避免遮住拖动的点点，需要额外设置高一些
      height = videoH + outerH + speedDotH;

    return { w: Math.ceil(width), h: Math.ceil(height), vh: videoH, vw: videoW, ratio: ratio_, sdh: speedDotH };
  };

  // 图片和视频预加载逻辑，记得H5和秒开要对齐逻辑
  (function () {
    var iframe = document.getElementsByTagName('iframe');
    for (var i = 0, il = iframe.length; i < il; i++) {
      if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
        continue;
      }
      var a = iframe[i];
      var src_ = a.getAttribute('src') || a.getAttribute('data-src') || "";

      /* if (!/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)
        && !/^http(s)*\:\/\/mp\.weixin\.qq\.com\/mp\/readtemplate\?t=pages\/video_player_tmpl/.test(src_)
      ) {
        continue;
      } */
      var vid = getQuery("vid", src_) || a.getAttribute('data-mpvid');
      if (!vid) {
        continue;
      }
      vid = vid.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, "");//清除前后空格
      a.removeAttribute('src');
      a.style.display = "none";
      var obj = window.__getVideoWh(a),
        videoPlaceHolderSpan = document.createElement('span'),
        videoPlayerIconSpan = document.createElement('span'),
        mydiv = document.createElement('img');

      videoPlaceHolderSpan.className = "js_img_loading db";
      videoPlaceHolderSpan.setAttribute("data-vid", vid);
      // videoPlaceHolderSpan.style.display = 'block';

      videoPlayerIconSpan.className = 'wx_video_context db'; // 预加载的视频封面图占位
      videoPlayerIconSpan.style.display = 'none';
      videoPlayerIconSpan.innerHTML = '<span class="wx_video_thumb_primary"></span><button class="wx_video_play_btn">播放</button><span class="wx_video_mask"></span>'; // 曝光后设置这里img的src

      mydiv.className = "img_loading";

      mydiv.src = "data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==";
      // mydiv.style.cssText += ';height:100%;width:100%;';
      // mydiv.setAttribute("data-vid",vid);
      videoPlaceHolderSpan.style.cssText = "width: " + obj.w + "px !important;";
      mydiv.style.cssText += ";width: " + obj.w + "px";
      videoPlaceHolderSpan.appendChild(videoPlayerIconSpan);
      videoPlaceHolderSpan.appendChild(mydiv);

      insertAfter(videoPlaceHolderSpan, a); // 在视频后面插入占位

      /* var parentNode = a.parentNode;
      var copyIframe = a;
      var index = i; */

      // 由于视频需要加一个转载的来源，所以这里需要提前设置高度
      function ajax(obj) {
        var url = obj.url;
        var xhr = new XMLHttpRequest();

        var data = null;
        if (typeof obj.data == "object") {
          var d = obj.data;
          data = [];
          for (var k in d) {
            if (d.hasOwnProperty(k)) {
              data.push(k + "=" + encodeURIComponent(d[k]));
            }
          }
          data = data.join("&");
        } else {
          data = typeof obj.data == 'string' ? obj.data : null;
        }

        xhr.open('POST', url, true);
        xhr.onreadystatechange = function () {
          if (xhr.readyState == 4) {
            if (xhr.status >= 200 && xhr.status < 400) {
              obj.success && obj.success(xhr.responseText);
            } else {
              obj.error && obj.error(xhr);
            }
            obj.complete && obj.complete();
            obj.complete = null;
          }
        };
        xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded; charset=UTF-8");
        xhr.setRequestHeader("X-Requested-With", "XMLHttpRequest");
        xhr.send(data);
      }

      var mid = "" || "" || "2247508776";
      var biz = "" || "MzIzOTU0NTQ0MA==";
      var sessionid = "" || "svr_f27fdd79a1a";
      var idx = "";

      (function sendReq(parentNode, copyIframe, index, vid) {
        ajax({
          url: '/mp/videoplayer?vid=' + vid + '&mid=' + mid + '&idx=1&__biz=' + biz + '&sessionid=' + sessionid + '&f=json',
          type: "GET",
          dataType: 'json',
          success: function (json) {
            var ret = JSON.parse(json || '{}');
            var ori = ret.ori_status;
            var hit_biz_headimg = ret.hit_biz_headimg + '/64';
            var hit_nickname = ret.hit_nickname;
            var hit_username = ret.hit_username;
            var sourceBiz = ret.source_encode_biz;

            var selfUserName = "gh_7fc9311f04ad";

            if (ori === 2 && selfUserName !== hit_username) {
              var videoBar = document.createElement('div');
              var videoBarHtml = '<div class="wx-edui-video_source_link js_wx_tap_highlight wx_tap_card" id="' + (hit_username + index) + '" data-hit-username="' + hit_username + '" data-hit-biz="' + sourceBiz + '">';
              videoBarHtml += '<div class="wx-edui-video_source_word">以下视频来源于</div>';
              videoBarHtml += '<div class="wx-edui-video_account_info">';
              videoBarHtml += '<div class="wx-edui-video_account_avatar" id="' + (hit_biz_headimg + index) + '" src="https://images.weserv.nl/?url=' + hit_biz_headimg + '"></div>';
              videoBarHtml += '<div class="wx-edui-video_account_name">' + hit_nickname + '</div>';
              videoBarHtml += '<i class="wx-edui-video_account_arrow"></i>';
              videoBarHtml += '</div>';
              videoBarHtml += '<div class="wx-edui-video_source_link__layer_mask"></div>';
              videoBarHtml += '</div>';
              videoBar.innerHTML = videoBarHtml;
              var spanContainer = document.getElementById('js_mp_video_container_' + index);
              if (spanContainer) {
                spanContainer.parentNode.insertBefore(videoBar, spanContainer);
              } else if (parentNode.contains && parentNode.contains(copyIframe)) {
                parentNode.insertBefore(videoBar, copyIframe);
              } else {
                parentNode.insertBefore(videoBar, parentNode.firstElementChild);
              }
              var avatorEle = document.getElementById(hit_biz_headimg + index);
              var avatorSrc = avatorEle.dataset.src;
              console.log('avatorSrc' + avatorSrc);
              if (ret.hit_biz_headimg) {
                avatorEle.style.backgroundImage = 'url(' + avatorSrc + ')';
              }
            }
          },
          error: function (xhr) {
          }
        });
      })(a.parentNode, a, i, vid);

      a.style.cssText += ";width: " + obj.w + "px !important;";
      a.setAttribute("width", obj.w);
      if (window.__zoom != 1) {
        a.style.display = "block";
        videoPlaceHolderSpan.style.display = "none";
        a.setAttribute("_ratio", obj.ratio);
        a.setAttribute("_vid", vid);
      } else {
        videoPlaceHolderSpan.style.cssText += "height: " + (obj.h - obj.sdh) + "px !important;margin-bottom: " + obj.sdh + "px !important;";
        mydiv.style.cssText += "height: " + (obj.h - obj.sdh) + "px !important;";
        a.style.cssText += "height: " + obj.h + "px !important;";
        a.setAttribute("height", obj.h);
      }
      a.setAttribute("data-vh", obj.vh);
      a.setAttribute("data-vw", obj.vw);
      if (a.getAttribute("data-mpvid")) {
        a.setAttribute("data-src", location.protocol + "//mp.weixin.qq.com/mp/readtemplate?t=pages/video_player_tmpl&auto=0&vid=" + vid);
      } else {
        a.setAttribute("data-src", location.protocol + "//v.qq.com/iframe/player.html?vid=" + vid + "&width=" + obj.vw + "&height=" + obj.vh + "&auto=0");
      }
    }
  })();

  (function () {
    if (window.__zoom != 1) {
      if (!window.__second_open__) {
        document.getElementById('page-content').style.zoom = window.__zoom;
        var a = document.getElementById('activity-name');
        var b = document.getElementById('meta_content');
        if (!!a) {
          a.style.zoom = 1 / window.__zoom;
        }
        if (!!b) {
          b.style.zoom = 1 / window.__zoom;
        }
      }
      var images = document.getElementsByTagName('img');
      for (var i = 0, il = images.length; i < il; i++) {
        if (window.__second_open__ && images[i].getAttribute('__sec_open_place_holder__')) {
          continue;
        }
        images[i].style.zoom = 1 / window.__zoom;
      }
      var iframe = document.getElementsByTagName('iframe');
      for (var i = 0, il = iframe.length; i < il; i++) {
        if (window.__second_open__ && iframe[i].getAttribute('__sec_open_place_holder__')) {
          continue;
        }
        var a = iframe[i];
        a.style.zoom = 1 / window.__zoom;
        var src_ = a.getAttribute('data-src') || "";
        if (!/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)
          && !/^http(s)*\:\/\/mp\.weixin\.qq\.com\/mp\/readtemplate\?t=pages\/video_player_tmpl/.test(src_)
        ) {
          continue;
        }
        var ratio = a.getAttribute("_ratio");
        var vid = a.getAttribute("_vid");
        a.removeAttribute("_ratio");
        a.removeAttribute("_vid");
        var vw = a.offsetWidth - (getOuterW(a) || 0);
        var vh = vw / ratio;
        var h = vh + (getOuterH(a) || 0)
        a.style.cssText += "height: " + h + "px !important;"
        a.setAttribute("height", h);
        if (/^http(s)*\:\/\/v\.qq\.com\/iframe\/(preview|player)\.html\?/.test(src_)) {
          a.setAttribute("data-src", location.protocol + "//v.qq.com/iframe/player.html?vid=" + vid + "&width=" + vw + "&height=" + vh + "&auto=0");
        }
        a.style.display = "none";
        var parent = a.parentNode;
        if (!parent) {
          continue;
        }
        for (var j = 0, jl = parent.children.length; j < jl; j++) {
          var child = parent.children[j];
          if (child.className.indexOf("img_loading") >= 0 && child.getAttribute("data-vid") == vid) {
            child.style.cssText += "height: " + h + "px !important;";
            child.style.display = "";
          }
        }
      }
    }
  })();
})();
</script><script type="text/javascript" nonce="1276091577" reportloaderror>!function(){"use strict";var t={defaultContentTpl:'<span class="js_img_loading db" style="width:#width#px !important;height:#height#px !important;text-indent: 0"><img style="width:#width#px !important;height:#height#px !important;border-radius:#borderRadius#px;" class="img_loading" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="></span>',config:[{querySelector:"redpacketcover",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return decodeURIComponent(t.node.getAttribute("data-coveruri")||"")},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return.7854*t.parentWidth},calH:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.calW({parentWidth:t.parentWidth})/.73346+27+37},replaceContentCssText:"",appendContentCssText:"display: inline-block;position: relative;",outerContainerLeft:'<section style="display:block;font-size:0;text-align:center;margin:16px 0;">',outerContainerRight:"</section>"},{querySelector:"qqmusic",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t.node.getAttribute("musicid")||"").replace(/^\s/,"").replace(/\s$/,"")+"_"+t.index},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){return 88},replaceContentCssText:"",appendContentCssText:"margin:16px 0;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mpvoice",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=decodeURIComponent(t.node.getAttribute("voice_encode_fileid")||"").replace(/^\s/,"").replace(/\s$/,"");return e+"_"+t.index},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){return 122},replaceContentCssText:"",appendContentCssText:"margin:16px 0;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mppoi",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.node.getAttribute("data-id")||""},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){return 219},replaceContentCssText:"",appendContentCssText:"margin:16px 0;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mpsearch",genId:function(){return decodeURIComponent("mpsearch")},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){return 100},replaceContentCssText:"",appendContentCssText:"margin:16px 0;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mpvideosnap",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node.getAttribute("data-type")||"video";return"live"===e?decodeURIComponent(t.node.getAttribute("data-noticeid")||""):decodeURIComponent(t.node.getAttribute("data-id")||"")},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node.getAttribute("data-type")||"video",n=t.node.getAttribute("data-width")||"",r=t.node.getAttribute("data-height")||"";if("live"===e||"topic"===e)return t.parentWidth;if("image"===e)return.665*t.parentWidth;var i=1,o=0,a=0,d=!1;return 1===(i=n/r)||i===3/4||(i===4/3||i===16/9?d=!0:i<3/4?i=3/4:i>1&&i<4/3?i=1:i>4/3?d=!0:("number"!=typeof i||Object.is(i,NaN))&&(i=1)),t.node.setAttribute("data-datio",i),t.node.setAttribute("data-isHorizontal",d),o=(a=!0===d?t.parentWidth:window.innerWidth<1024?.65*window.innerWidth:.65*t.parentWidth)/i,t.node.setAttribute("data-computedWidth",a),t.node.setAttribute("data-computedHeight",o),a},calH:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node.getAttribute("data-desc")||"",n=t.node.getAttribute("data-type")||"video",r=t.node.getAttribute("data-computedHeight")||"";switch(n){case"live":return e?152:116;case"topic":return 201;case"image":return e?this.calW(t)+44+35+27:this.calW(t)+44+35;case"video":return parseFloat(r)}},getBorderRadius:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node.getAttribute("data-type")||"video";return"video"===e?4:8},replaceContentCssText:"",appendContentCssText:"margin:16px auto;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mp-wxaproduct",genId:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return decodeURIComponent(t.node.getAttribute("data-wxaproduct-productid")||"")},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.node.getAttribute("data-wxaproduct-cardtype")||"";return"mini"===e?124:466},replaceContentCssText:"",appendContentCssText:"margin:16px 0;diplay:block;",outerContainerLeft:"",outerContainerRight:""},{querySelector:"mpprofile",genId:function(t){return t.node.getAttribute("data-id")||""},calW:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 1*t.parentWidth},calH:function(){return 143},replaceContentCssText:"",appendContentCssText:"margin:16px 0 16px;diplay:block;",outerContainerLeft:"",outerContainerRight:""}]};!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof document.querySelectorAll)for(var e={maxWith:document.getElementById("img-content").getBoundingClientRect().width,idAttr:"data-preloadingid"},n=0,r=t.config.length;n<r;n++)for(var i=t.config[n],o=document.querySelectorAll(i.querySelector),a=0,d=o.length;a<d;a++){var c=o[a],u=c.parentNode.getBoundingClientRect().width;if(u=Math.min(u,e.maxWith),!c.getAttribute("has-insert-preloading")){var l=i.calW({parentWidth:u,node:c}),p=i.calH({parentWidth:u,node:c}),g=i.genId({index:a,node:c}),s="function"==typeof i.getBorderRadius?i.getBorderRadius({index:a,node:c}):8,h=t.defaultContentTpl.replace(/#height#/g,p).replace(/#width#/g,l).replace(/#borderRadius#/g,s),C=document.createElement("div");if(C.innerHTML=h,i.replaceContentCssText){var f=i.replaceContentCssText.replace(/#height#/g,p).replace(/#width#/g,l);C.firstChild.style.cssText=f}else i.appendContentCssText&&(C.firstChild.style.cssText+=i.appendContentCssText);var v=i.outerContainerLeft+C.innerHTML+i.outerContainerRight;C.innerHTML=v,C.firstChild.setAttribute(e.idAttr,g),c.parentNode.insertBefore(C.firstChild,c.nextSibling),c.setAttribute("has-insert-preloading","1")}}}(t)}();</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
// 白名单的class不能去除
var whiteList = 'rich_pages,blockquote_info,blockquote_biz,blockquote_other,blockquote_article,js_jump_icon,h5_image_link,js_banner_container,js_list_container,js_cover,js_tx_video_container,js_product_err_container,js_product_loop_content,js_product_container,img_loading,list-paddingleft-1,list-paddingleft-2,list-paddingleft-3,selectTdClass,noBorderTable,ue-table-interlace-color-single,ue-table-interlace-color-double,__bg_gif,weapp_text_link,weapp_image_link,js_img_loading,wx_video_context,db,wx_video_thumb_primary,wx_video_play_btn,wx_video_mask,qqmusic_area,tc,tips_global,unsupport_tips,qqmusic_wrp,appmsg_card_context,appmsg_card_active,wx_tap_card,js_wx_tap_highlight,wx_tap_link,qqmusic_bd,play_area,icon_qqmusic_switch,pic_qqmusic_default,qqmusic_thumb,access_area,qqmusic_songname,qqmusic_singername,qqmusic_source,js_audio_frame,share_audio_context,flex_context,pages_reset,share_audio_switch,icon_share_audio_switch,share_audio_info,flex_bd,share_audio_title,share_audio_tips,share_audio_progress_wrp,share_audio_progress,share_audio_progress_inner,share_audio_progress_buffer,share_audio_progress_loading,share_audio_progress_loading_inner,share_audio_progress_handle,share_audio_desc,share_audio_length_current,share_audio_length_total,video_iframe,vote_iframe,js_editor_vote_card,res_iframe,card_iframe,js_editor_card,weapp_display_element,js_weapp_display_element,weapp_card,app_context,weapp_card_bd,weapp_card_profile,radius_avatar,weapp_card_avatar,weapp_card_nickname,weapp_card_info,weapp_card_title,weapp_card_thumb_wrp,weapp_card_ft,weapp_card_logo,js_pay_btn,pay,pay__mask,wx_video_loading,js_redpacketcover,js_uneditable,js_uneditablemouseover,js_editor_qqmusic,js_editor_audio,ct_geography_loc_tip,js_poi_entry,subsc_context,subsc_btn,reset_btn,js_subsc_btn,icon_subsc'.split(',');
var qaClassPrefix = 'qa__';
var whiteListReg = [
  new RegExp("^wxw"),
  new RegExp("^weui"),
  new RegExp("^appmsg"),
  new RegExp("^audio"),
  new RegExp("^music"),
  new RegExp("^cps_inner"),
  new RegExp("^bizsvr_"), // 后台压缩样式
  new RegExp("^code-snippet"), // 代码块样式
  new RegExp("^" + qaClassPrefix), // 问答卡片样式
  new RegExp("^wx-edui-"), // 图文编辑器相关样式统一前缀
  new RegExp("^wx_"), // 微信样式统一前缀
  new RegExp("^wx-"), // 微信样式统一前缀
  new RegExp('^js_darkmode__'), // 暗黑模式统一前缀
  new RegExp('^js_wechannel'), // 视频号统一前缀
];
</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
function htmlDecode(str) {
  return str
    .replace(/&#39;/g, '\'')
    .replace(/<br\s*(\/)?\s*>/g, '\n')
    .replace(/&nbsp;/g, ' ')
    .replace(/&lt;/g, '<')
    .replace(/&gt;/g, '>')
    .replace(/&quot;/g, '"')
    .replace(/&amp;/g, '&')
    .replace(/&nbsp;/g, ' ');
}

var uin = '';
var key = '';
var pass_ticket = '';
var new_appmsg = 1;
var item_show_type = "0";
var real_item_show_type = "0";
var can_see_complaint = "0";
var tid = "";
var aid = "";
var clientversion = "";
var appuin = "" || "MzIzOTU0NTQ0MA==";
var voiceid = "";

var source = "";
var ascene = "";
var subscene = "";
var sessionid = "" || "svr_f27fdd79a1a";
var abtest_cookie = "";

var scene = 75;

var itemidx = "";
var appmsg_token = "";
var _copyright_stat = "2";
var _ori_article_type = "";

var is_follow = "";
var nickname = "阿里开发者";
var appmsg_type = "9";
var ct = "1655168403";
var user_name = "gh_7fc9311f04ad";
var fakeid = "";
var version = "";
var is_limit_user = "0";
var round_head_img = "http://mmbiz.qpic.cn/mmbiz_png/Z6bicxIx5naI1jwOfnA1w4PL2LhwNia76vBRfzqaQVVVlqiaLjmWYQXHsn1FqBHhuGVcxEHjxE9tibBFBjcB352fhQ/0?wx_fmt=png";
var hd_head_img = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4yGEW4Je6O6aLExtOx3rQQXxibBoiawVa1y9ncdIvz8aWA/0" || "";
var ori_head_img_url = "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4yGEW4Je6O6aLExtOx3rQQXxibBoiawVa1y9ncdIvz8aWA/132";
var msg_title = '代码注释的艺术，优秀代码真的不需要注释吗？'.html(false);
var msg_desc = htmlDecode("注释并不会妨碍你写出优雅简洁的代码，它只是程序固有的一部分而已。");
var msg_cdn_url = "http://mmbiz.qpic.cn/mmbiz_jpg/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPsd4cicQNOxiaCdzPuFjHTjxoeoVj6nqGT9YJkhsqYuSxWlFFV8SF7quLQ/0?wx_fmt=jpeg"; // 首图idx=0时2.35:1 ， 次图idx!=0时1:1
var cdn_url_1_1 = "https://mmbiz.qlogo.cn/mmbiz_jpg/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPs1gQRHBHTkcg1Tc8hPY5zsANuiaaicpibTfgBhDSUlPYkoJfDicr5fdXpHA/0?wx_fmt=jpeg"; // 1:1比例的封面图
var cdn_url_235_1 = "https://mmbiz.qlogo.cn/mmbiz_jpg/Z6bicxIx5naKribpNHp12uvvWgJa0ooqPsd4cicQNOxiaCdzPuFjHTjxoeoVj6nqGT9YJkhsqYuSxWlFFV8SF7quLQ/0?wx_fmt=jpeg"; // 首图idx=0时2.35:1 ， 次图idx!=0时1:1
// var msg_link = "http://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==\x26amp;mid=2247508776\x26amp;idx=1\x26amp;sn=ea44de460c56c0643f79227736dcd505\x26amp;chksm=e92a9e27de5d1731bcefbcfea6ac55f440632259d4fbdc1c4c1065a90f587121e6e80c9c42d1#rd";
var msg_link = "http://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&amp;mid=2247508776&amp;idx=1&amp;sn=ea44de460c56c0643f79227736dcd505&amp;chksm=e92a9e27de5d1731bcefbcfea6ac55f440632259d4fbdc1c4c1065a90f587121e6e80c9c42d1#rd"; // @radeonwu
var user_uin = "" * 1;
var msg_source_url = 'https://developer.aliyun.com/learning/course/1028?utm_content=g_1000345615';
var img_format = 'jpeg';
var srcid = '';
var req_id = '1415eMNWk6NOhsaQ64TWc7DJ';
var networkType;
var appmsgid = "2247508776" || '' || '';
var comment_id = "2441634449303158788" || "2441634449303158788" * 1;
var comment_enabled = "" * 1;
var open_fansmsg = "0" * 1;
var is_https_res = ("" * 1) && (location.protocol == "https:");
var msg_daily_idx = "0" || "";
var profileReportInfo = "" || "";

var devicetype = "";
var source_encode_biz = "MzU4NzU0MDIzOQ=="; // 转载来源的公众号encode biz
var source_username = "gh_94efc5c3f960";
// var profile_ext_signature = "" || "";
var reprint_ticket = "7xdwhvXzR7lhLA6lUhHxXOQGIShZw1tcYL1faV1djEMuOVv6jQ1o2MZMi26A3wwi";
var source_mid = "2247510183";
var source_idx = "2";
var source_biz = "3587540239";
var author_id = "";

// 关注组件灰度实验
var is_like_profile_gray = '0' * 1;

// 以下前端灰度逻辑干掉，改为后端控制
// var is_like_profile_gray = (function() {
//   return (Math.floor(user_uin / 383) % 100) <= 1; // 灰度50%
// })();
// if(user_uin === 3190046805 || user_uin === 1808514905) {
//   is_like_profile_gray  = false;
// }
// if(user_uin === 594425220 || user_uin === 3194185190|| user_uin === 3190046801 || user_uin ===  245916855 || user_uin === 2453457861) {
//   is_like_profile_gray  = true;
// }

console.log('is_like_profile_gray' + is_like_profile_gray)
// 压缩标志位
var optimizing_flag = "0" * 1;

// 广告灰度实验取消 @add by scotthuang
// var ad_abtest_padding = "0" * 1;

var show_comment = "";
var __appmsgCgiData = {
  wxa_product: "" * 1,
  wxa_cps: "" * 1,
  show_msg_voice: "0" * 1,
  can_use_page: "" * 1,
  is_wxg_stuff_uin: "0" * 1,
  card_pos: "0",
  copyright_stat: "2",
  source_biz: "3587540239",
  hd_head_img: "http://wx.qlogo.cn/mmhead/Q3auHgzwzM4yGEW4Je6O6aLExtOx3rQQXxibBoiawVa1y9ncdIvz8aWA/0" || (window.location.protocol + "//" + window.location.host + "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_rumor_link.2x5e92aa.jpg"),
  has_red_packet_cover: "0" * 1 || 0,
  minishopCardData: ""
};
var _empty_v = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/pages/voice/empty5e92aa.mp3";
var appmsg_album_info = (function () {
  var curAlbumId = '';
  var publicTagInfo = [
              ];
  for (var i = 0; i < publicTagInfo.length; i++) {
    if (curAlbumId) {
      if (curAlbumId === publicTagInfo[i].id) {
        return publicTagInfo[i];
      }
    } else {
      if (publicTagInfo[i].continousReadOn) {
        return publicTagInfo[i];
      }
    }
  }
  return {};
})();
var copyright_stat = "2" * 1;
var hideSource = "1" * 1;

var pay_fee = "" * 1;
var pay_timestamp = "";
var need_pay = "" * 1;
var is_pay_subscribe = "0" * 1;

var need_report_cost = "0" * 1;
var use_tx_video_player = "0" * 1;
var appmsg_fe_filter = "contenteditable";

var friend_read_source = "" || "";
var friend_read_version = "" || "";
var friend_read_class_id = "" || "";

var is_only_read = "1" * 1;
var read_num = "" * 1;
var like_num = "" * 1;
var liked = "" == 'true' ? true : false;
var is_temp_url = "" ? 1 : 0;
var send_time = "";
var icon_emotion_switch = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch5e92aa.svg";
var icon_emotion_switch_active = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_active5e92aa.svg";
var icon_emotion_switch_primary = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_primary5e92aa.svg";
var icon_emotion_switch_active_primary = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/emotion/icon_emotion_switch_active_primary5e92aa.svg";
var icon_loading_white = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white5e92aa.gif";
var icon_audio_unread = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/audio/icon_audio_unread5e92aa.png";
var icon_qqmusic_default = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_default.2x5e92aa.png";
var icon_qqmusic_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/qqmusic/icon_qqmusic_source5e92aa.svg";
var icon_kugou_source = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/kugou/icon_kugou_source5e92aa.png";

var topic_default_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg/topic/pic_book_thumb.2x5e92aa.png';
var comment_edit_icon = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/appmsg_new/icon_edit5e92aa.png';
var comment_loading_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/icon/common/icon_loading_white5e92aa.gif';
var comment_c2c_not_support_img = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_discuss_more5e92aa.png';

var voice_in_appmsg = {
  "1": "1"
  };
var voiceList = {};
voiceList={"voice_in_appmsg":[]}
var reprint_style = '0' * 1;
var wxa_img_alert = "" != 'false';

// 小程序相关数据
var weapp_sn_arr_json = "" || "";

// 视频号相关数据
var video_snap_json = "" || "";
// profile相关数据
var mp_profile = [
  ];

// 能力封禁字段
var ban_scene = "0" * 1;

var svr_time = "1655190678" * 1;
// 加迁移文章字段, 默认为false
var is_transfer_msg = "" * 1 || 0;

var malicious_title_reason_id = "0" * 1; // 标题党wording id @radeonwu
var malicious_content_type = "0" * 1; // 标题党类型 @radeonwu

// 修改错别字逻辑
var modify_time = "";

// 限制跳转到公众号profile @radeonwu
var isprofileblock = "0";

var jumpInfo = [
    ];

var hasRelatedArticleInfo = '0' * 1 || 0; // 有相关阅读的数据 @radeonwu
var relatedArticleFlag = '' * 1 || 0; // 0不用拓展，为1时拓展3条 @yinshen

var canUseAutoTypeSetting = '' * 1 || 0; // 可以应用到自动排版样式
window.wxtoken = "777";
window.is_login = '' * 1; // 把上面的那段代码改一下，方便配置回退

window.__moon_initcallback = function () {
  if (!!window.__initCatch) {
    window.__initCatch({
      idkey: 27611 + 2,
      startKey: 0,
      limit: 128,
      badjsId: 43,
      reportOpt: {
        uin: uin,
        biz: biz,
        mid: mid,
        idx: idx,
        sn: sn
      },
      extInfo: {
        network_rate: 0.01,    //网络错误采样率
        badjs_rate: 0.1 // badjs上报叠加采样率
      }
    });
  }
}
// msg_title != title
var title = "阿里开发者";

var is_new_msg = true;
// var appmsg_like_type = "2" * 1 ? "2" * 1 : 1; //区分点赞和看一看
// var appmsg_like_type = 2;

var is_wash = '' * 1;
var topbarEnable = false;
var enterid = "" * 1 || "" * 1 || parseInt(Date.now() / 1000);
// var appid_list = ""; // 改图文所在的小程序的appid列表，只在小程序中使用
var miniprogram_appid = ""; // 该图文所在的小程序的appid

var defaultAvatarUrl = '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/common/avatar_default5e92aa.svg';

document.addEventListener('DOMContentLoaded', function () {
  window.domCompleteTime = Date.now();
});

// 记录是否有转载推荐语
      var hasRecommendMsg = 0;
  ;
// 付费阅读
var isPayTopic = '' * 1;
  var payTopicPrice = '' * 1;
var isRemovedFromPayTopic = '' * 1;
var isPaySubscribe = '0' * 1; // 是否付费文章
var isPaid = '0' * 1; // 是否已付费
var isRefund = '' * 1; // 是否已退款
var payShowIAPPrice = 1; // 是否启用IAP价格显示，用于外币显示
var payProductId = '' || ''; // 付费金额对应商品ID，用于iOS多币种金额IAP查询
var previewPercent = '0' || ''; // 试读比例
var payGiftsCount = '0' * 1 || 0; // 付费赠送数量
var payFreeGift = '' * 1 || 0; // 是否是领取付费赠送的用户
var is_finished_preview = 0; // 是否试读完
var jump2pay = '' * 1; // 是否跳转到支付按钮的位置

var isFans; // getext里获取数据再塞到这里
var is_need_reward = (isPaySubscribe && !isPaid) ? 0 : "0" * 1; // 非付费不可赞赏
var is_teenager = '' * 1 || 0; //是否处于青少年模式
var is_care_mode = '' * 1 || 0; //是否处于关怀模式

// 段落投诉
var anchor_tree_msg = '';
// Dark Mode
var colorScheme = ''; // ''|'dark'|'light', 空表示跟随系统

var iapPriceInfo = {
  };
var productPayPackage = {
    iap_price_info: iapPriceInfo
};

// 漫画原创
var isCartoonCopyright = '0' * 1; // 是否漫画原创

// 图文朗读
var show_msg_voice = '' * 1;
var qnaCardData = '';
var exptype = '' || '';
var expsessionid = '' || '';

// 留言相关
var goContentId = '';
var goReplyId = '';

var show_related_article = '' * 1; // 是否强制出相关阅读

var wwdistype = ''; // 企微场景，industrynews表示行业资讯

// 腾讯视频相关
window.cgiData = {
  appImg: '//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/pages/video/pic_v.2x5e92aa.png',
}

window.ip_wording = {
  countryName: '中国',
  countryId: '156',
  provinceName: '北京',
  provinceId: '',
  cityName: '',
  cityId: ''
};
window.show_ip_wording = '1' * 1;
</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
// 企业微信里置灰公众号名称
(function() {
  if (window.is_like_profile_gray) {
    var activityDetail = document.getElementById('activity-detail');
    if (activityDetail) {
      activityDetail.classList.add('page_bottom_primary');
    }
  }
})();
</script><script type="text/javascript" nonce="1276091577" reportloaderror>var __INLINE_SCRIPT__=function(){"use strict";var n=function(n){var i=document.getElementById("js_ip_wording_wrp"),o=document.getElementById("js_ip_wording");if(n&&(window.ip_wording={countryName:n.country_name,countryId:n.country_id,provinceName:n.province_name}),window.ip_wording&&i&&o){var r=function(n){var i="";return 156===parseInt(n.countryId,10)?i=n.provinceName:n.countryId&&(i=n.countryName),i}(window.ip_wording);""!==r&&(o.innerHTML=r,i.style.display="inline-block")}};return window.__second_open__||(n(),window.__setIpWording=n),n}();</script><script type="text/javascript" nonce="1276091577" reportloaderror>!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Darkmode",[],t):"object"==typeof exports?exports.Darkmode=t():e.Darkmode=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t,r){"use strict";var n=r(3),a=r(6),o=[].slice,i=["keyword","gray","hex"],l={};Object.keys(a).forEach((function(e){l[o.call(a[e].labels).sort().join("")]=e}));var s={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in i&&(t=null),t&&!(t in a))throw new Error("Unknown model: "+t);var r,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var h=n.get(e);if(null===h)throw new Error("Unable to parse color from string: "+e);this.model=h.model,c=a[this.model].channels,this.color=h.value.slice(0,c),this.valpha="number"==typeof h.value[c]?h.value[c]:1}else if(e.length){this.model=t||"rgb",c=a[this.model].channels;var f=o.call(e,0,c);this.color=d(f,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var g=Object.keys(e);"alpha"in e&&(g.splice(g.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var b=g.sort().join("");if(!(b in l))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=l[b];var p=a[this.model].labels,y=[];for(r=0;r<p.length;r++)y.push(e[p[r]]);this.color=d(y)}if(s[this.model])for(c=a[this.model].channels,r=0;r<c;r++){var m=s[this.model][r];m&&(this.color[r]=m(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(s[e]||(s[e]=[]))[t]=r})),e=e[0],function(n){var a;return arguments.length?(r&&(n=r(n)),(a=this[e]()).color[t]=n,a):(a=this[e]().color[t],r&&(a=r(a)),a)}}function h(e){return function(t){return Math.max(0,Math.min(e,t))}}function f(e){return Array.isArray(e)?e:[e]}function d(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=a[this.model].channels,r=a[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,h(255)),green:c("rgb",1,h(255)),blue:c("rgb",2,h(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,h(100)),lightness:c("hsl",2,h(100)),saturationv:c("hsv",1,h(100)),value:c("hsv",2,h(100)),chroma:c("hcg",1,h(100)),gray:c("hcg",2,h(100)),white:c("hwb",1,h(100)),wblack:c("hwb",2,h(100)),cyan:c("cmyk",0,h(100)),magenta:c("cmyk",1,h(100)),yellow:c("cmyk",2,h(100)),black:c("cmyk",3,h(100)),x:c("xyz",0,h(100)),y:c("xyz",1,h(100)),z:c("xyz",2,h(100)),l:c("lab",0,h(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new u(e):a[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},isDark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},isLight:function(){return!this.isDark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);var r=e.rgb(),n=this.rgb(),a=void 0===t?.5:t,o=2*a-1,i=r.alpha()-n.alpha(),l=((o*i==-1?o:(o+i)/(1+o*i))+1)/2,s=1-l;return u.rgb(l*r.red()+s*n.red(),l*r.green()+s*n.green(),l*r.blue()+s*n.blue(),r.alpha()*a+n.alpha()*(1-a))}},Object.keys(a).forEach((function(e){if(-1===i.indexOf(e)){var t=a[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(f(a[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=d(o.call(arguments),t)),new u(r,e)}}})),e.exports=u},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(7),a={};for(var o in n)n.hasOwnProperty(o)&&(a[n[o]]=o);var i=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var l in i)if(i.hasOwnProperty(l)){if(!("channels"in i[l]))throw new Error("missing channels property: "+l);if(!("labels"in i[l]))throw new Error("missing channel labels property: "+l);if(i[l].labels.length!==i[l].channels)throw new Error("channel and label counts mismatch: "+l);var s=i[l].channels,u=i[l].labels;delete i[l].channels,delete i[l].labels,Object.defineProperty(i[l],"channels",{value:s}),Object.defineProperty(i[l],"labels",{value:u})}i.rgb.hsl=function(e){var t,r,n=e[0]/255,a=e[1]/255,o=e[2]/255,i=Math.min(n,a,o),l=Math.max(n,a,o),s=l-i;return l===i?t=0:n===l?t=(a-o)/s:a===l?t=2+(o-n)/s:o===l&&(t=4+(n-a)/s),(t=Math.min(60*t,360))<0&&(t+=360),r=(i+l)/2,[t,100*(l===i?0:r<=.5?s/(l+i):s/(2-l-i)),100*r]},i.rgb.hsv=function(e){var t,r,n,a,o,i=e[0]/255,l=e[1]/255,s=e[2]/255,u=Math.max(i,l,s),c=u-Math.min(i,l,s),h=function(e){return(u-e)/6/c+.5};return 0===c?a=o=0:(o=c/u,t=h(i),r=h(l),n=h(s),i===u?a=n-r:l===u?a=1/3+t-n:s===u&&(a=2/3+r-t),a<0?a+=1:a>1&&(a-=1)),[360*a,100*o,100*u]},i.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[i.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(r,n))),100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},i.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,a=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-a)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-a-t)/(1-t)||0),100*t]},i.rgb.keyword=function(e){var t=a[e];if(t)return t;var r,o,i,l=1/0;for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],c=(o=e,i=u,Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2)+Math.pow(o[2]-i[2],2));c<l&&(l=c,r=s)}return r},i.keyword.rgb=function(e){return n[e]},i.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},i.rgb.lab=function(e){var t=i.rgb.xyz(e),r=t[0],n=t[1],a=t[2];return n/=100,a/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},i.hsl.rgb=function(e){var t,r,n,a,o,i=e[0]/360,l=e[1]/100,s=e[2]/100;if(0===l)return[o=255*s,o,o];t=2*s-(r=s<.5?s*(1+l):s+l-s*l),a=[0,0,0];for(var u=0;u<3;u++)(n=i+1/3*-(u-1))<0&&n++,n>1&&n--,o=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,a[u]=255*o;return a},i.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,a=r,o=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,a*=o<=1?o:2-o,[t,100*(0===n?2*a/(o+a):2*r/(n+r)),100*((n+r)/2)]},i.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,a=Math.floor(t)%6,o=t-Math.floor(t),i=255*n*(1-r),l=255*n*(1-r*o),s=255*n*(1-r*(1-o));switch(n*=255,a){case 0:return[n,s,i];case 1:return[l,n,i];case 2:return[i,n,s];case 3:return[i,l,n];case 4:return[s,i,n];case 5:return[n,i,l]}},i.hsv.hsl=function(e){var t,r,n,a=e[0],o=e[1]/100,i=e[2]/100,l=Math.max(i,.01);return n=(2-o)*i,r=o*l,[a,100*(r=(r/=(t=(2-o)*l)<=1?t:2-t)||0),100*(n/=2)]},i.hwb.rgb=function(e){var t,r,n,a,o,i,l,s=e[0]/360,u=e[1]/100,c=e[2]/100,h=u+c;switch(h>1&&(u/=h,c/=h),n=6*s-(t=Math.floor(6*s)),0!=(1&t)&&(n=1-n),a=u+n*((r=1-c)-u),t){default:case 6:case 0:o=r,i=a,l=u;break;case 1:o=a,i=r,l=u;break;case 2:o=u,i=r,l=a;break;case 3:o=u,i=a,l=r;break;case 4:o=a,i=u,l=r;break;case 5:o=r,i=u,l=a}return[255*o,255*i,255*l]},i.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,r*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a))]},i.xyz.rgb=function(e){var t,r,n,a=e[0]/100,o=e[1]/100,i=e[2]/100;return r=-.9689*a+1.8758*o+.0415*i,n=.0557*a+-.204*o+1.057*i,t=(t=3.2406*a+-1.5372*o+-.4986*i)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},i.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},i.lab.xyz=function(e){var t,r,n,a=e[0];t=e[1]/500+(r=(a+16)/116),n=r-e[2]/200;var o=Math.pow(r,3),i=Math.pow(t,3),l=Math.pow(n,3);return r=o>.008856?o:(r-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,n=l>.008856?l:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},i.lab.lch=function(e){var t,r=e[0],n=e[1],a=e[2];return(t=360*Math.atan2(a,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+a*a),t]},i.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},i.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],a=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===a&&(o+=60),o},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},i.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},i.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,a=e[2]/255,o=Math.max(Math.max(r,n),a),i=Math.min(Math.min(r,n),a),l=o-i;return t=l<=0?0:o===r?(n-a)/l%6:o===n?2+(a-r)/l:4+(r-n)/l+4,t/=6,[360*(t%=1),100*l,100*(l<1?i/(1-l):0)]},i.hsl.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=1,a=0;return(n=r<.5?2*t*r:2*t*(1-r))<1&&(a=(r-.5*n)/(1-n)),[e[0],100*n,100*a]},i.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},i.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var a,o=[0,0,0],i=t%1*6,l=i%1,s=1-l;switch(Math.floor(i)){case 0:o[0]=1,o[1]=l,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=l;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=l,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return a=(1-r)*n,[255*(r*o[0]+a),255*(r*o[1]+a),255*(r*o[2]+a)]},i.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},i.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},i.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},i.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,a=0;return n<1&&(a=(r-n)/(1-n)),[e[0],100*n,100*a]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]]},i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},function(e,t,r){var n=r(1),a=r(4),o=Object.hasOwnProperty,i={};for(var l in n)o.call(n,l)&&(i[n[l]]=l);var s=e.exports={to:{},get:{}};function u(e,t,r){return Math.min(Math.max(t,e),r)}function c(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}s.get=function(e){var t,r;switch(e.substring(0,3).toLowerCase()){case"hsl":t=s.get.hsl(e),r="hsl";break;case"hwb":t=s.get.hwb(e),r="hwb";break;default:t=s.get.rgb(e),r="rgb"}return t?{model:r,value:t}:null},s.get.rgb=function(e){if(!e)return null;var t,r,a,i=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(a=t[2],t=t[1],r=0;r<3;r++){var l=2*r;i[r]=parseInt(t.slice(l,l+2),16)}a&&(i[3]=parseInt(a,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(a=(t=t[1])[3],r=0;r<3;r++)i[r]=parseInt(t[r]+t[r],16);a&&(i[3]=parseInt(a+a,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(r=0;r<3;r++)i[r]=parseInt(t[r+1],0);t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(n,t[1])?((i=n[t[1]])[3]=1,i):null:null;for(r=0;r<3;r++)i[r]=Math.round(2.55*parseFloat(t[r+1]));t[4]&&(t[5]?i[3]=.01*parseFloat(t[4]):i[3]=parseFloat(t[4]))}for(r=0;r<3;r++)i[r]=u(i[r],0,255);return i[3]=u(i[3],0,1),i},s.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},s.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var r=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(r)?1:r,0,1)]}return null},s.to.hex=function(){var e=a(arguments);return"#"+c(e[0])+c(e[1])+c(e[2])+(e[3]<1?c(Math.round(255*e[3])):"")},s.to.rgb=function(){var e=a(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},s.to.rgb.percent=function(){var e=a(arguments),t=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),n=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+r+"%, "+n+"%)":"rgba("+t+"%, "+r+"%, "+n+"%, "+e[3]+")"},s.to.hsl=function(){var e=a(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},s.to.hwb=function(){var e=a(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},s.to.keyword=function(e){return i[e.slice(0,3)]}},function(e,t,r){"use strict";var n=r(5),a=Array.prototype.concat,o=Array.prototype.slice,i=e.exports=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var l=e[r];n(l)?t=a.call(t,o.call(l)):t.push(l)}return t};i.wrap=function(e){return function(){return e(i(arguments))}}},function(e,t){e.exports=function(e){return!(!e||"string"==typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},function(e,t,r){var n=r(2),a=r(8),o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=a(e);Object.keys(t).forEach((function(r){var n=t[r];o[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,a=0;a<n;a++)r[a]=Math.round(r[a]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),o[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=o},function(e,t,r){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t,r){var n=r(2);function a(e){var t=function(){for(var e={},t=Object.keys(n),r=t.length,a=0;a<r;a++)e[t[a]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var a=r.pop(),o=Object.keys(n[a]),i=o.length,l=0;l<i;l++){var s=o[l],u=t[s];-1===u.distance&&(u.distance=t[a].distance+1,u.parent=a,r.unshift(s))}return t}function o(e,t){return function(r){return t(e(r))}}function i(e,t){for(var r=[t[e].parent,e],a=n[t[e].parent][e],i=t[e].parent;t[i].parent;)r.unshift(t[i].parent),a=o(n[t[i].parent][i],a),i=t[i].parent;return a.conversion=r,a}e.exports=function(e){for(var t=a(e),r={},n=Object.keys(t),o=n.length,l=0;l<o;l++){var s=n[l];null!==t[s].parent&&(r[s]=i(s,t))}return r}},function(e,t,r){"use strict";r.r(t),r.d(t,"run",(function(){return ye})),r.d(t,"init",(function(){return me})),r.d(t,"convertBg",(function(){return ve})),r.d(t,"extend",(function(){return ke}));var n="(prefers-color-scheme: dark)",a="data_color_scheme_dark",o="".concat(1*new Date).concat(Math.round(10*Math.random())),i="data-darkmode-color-".concat(o),l="data-darkmode-bgcolor-".concat(o),s="data-darkmode-original-color-".concat(o),u="data-darkmode-original-bgcolor-".concat(o),c="data-darkmode-bgimage-".concat(o),h=window.getInnerHeight&&window.getInnerHeight()||window.innerHeight||document.documentElement.clientHeight,f=["TABLE","TR","TD","TH"],d=/ !important$/,g={hasInit:!1,begin:null,showFirstPage:null,error:null,mode:"",whitelist:{tagName:["MPCPS","IFRAME"]},needJudgeFirstPage:!0,delayBgJudge:!1,container:null,cssSelectorsPrefix:"",defaultLightTextColor:"#191919",defaultLightBgColor:"#fff",defaultDarkTextColor:"#a3a3a3",defaultDarkBgColor:"#191919",set:function(e,t,r){var n=t[r];switch(e){case"boolean":"boolean"==typeof n&&(this[r]=n);break;case"string":"string"==typeof n&&""!==n&&(this[r]=n);break;case"function":"function"==typeof n&&(this[r]=n);break;case"dom":n instanceof HTMLElement&&(this[r]=n)}}};function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,r){return t&&y(e.prototype,t),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=[],k=[],w=function(){function e(){p(this,e)}return m(e,[{key:"loopTimes",get:function(){return se.loopTimes}},{key:"isDarkmode",get:function(){return de.isDarkmode}},{key:"addCss",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(r?v:k).push(he.genCss(e,t.map((function(e){var t=e.key,r=e.value;return he.genCssKV(t,r)})).join("")))}}]),e}(),x=function(){function e(){p(this,e),b(this,"_plugins",[]),b(this,"length",0),b(this,"loopTimes",0),b(this,"firstPageStyle",""),b(this,"otherPageStyle",""),b(this,"firstPageStyleNoMQ",""),b(this,"otherPageStyleNoMQ","")}return m(e,[{key:"extend",value:function(e){this._plugins.push(new(e(w))),this.length++}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this._plugins.forEach((function(t){"function"==typeof t[e]&&t[e].apply(t,r)}))}},{key:"addCss",value:function(e){e?(this.firstPageStyle+=v.join(""),this.firstPageStyleNoMQ+=k.join("")):(this.otherPageStyle+=v.join(""),this.otherPageStyleNoMQ+=k.join(""))}},{key:"resetCss",value:function(){v=[],k=[]}}]),e}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),C(this,"_queue",[]),C(this,"_idx",0),this._prefix=t}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t="".concat(this._prefix).concat(this._idx++);e.classList.add(t),this._queue.push({el:e,className:t,updated:!g.delayBgJudge})}},{key:"forEach",value:function(e){var t=[];for(this._queue.forEach((function(r,n){r.updated&&(t.unshift(n),M(e)&&e(r.el))}));t.length;)this._queue.splice(t.shift(),1)}},{key:"update",value:function(e){this._queue.forEach((function(t){t.updated||Array.prototype.some.call(e,(function(e){return!(1!==e.nodeType||!e.classList.contains(t.className)||(t.el=e,t.updated=!0,0))}))}))}}])&&_(t.prototype,r),n&&_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"_stack",[]),S(this,"_idx",0),this._prefix=t}var t,r,n;return t=e,(r=[{key:"push",value:function(e,t){var r="".concat(this._prefix).concat(this._idx++);e.classList.add(r),this._stack.unshift({el:e,className:r,cssKV:t,updated:!g.delayBgJudge})}},{key:"contains",value:function(e,t){var r=e.getBoundingClientRect(),n=[];for(this._stack.forEach((function(e,t){if(e.updated){e.rect||(e.rect=e.el.getBoundingClientRect());var a=e.rect;r.top>=a.bottom||r.bottom<=a.top||r.left>=a.right||r.right<=a.left||n.unshift(t)}}));n.length;){var a=this._stack.splice(n.shift(),1)[0];"function"==typeof t&&t(a)}}},{key:"update",value:function(e){this._stack.forEach((function(t){t.updated||Array.prototype.some.call(e,(function(e){return!(1!==e.nodeType||!e.classList.contains(t.className)||(t.el=e,t.updated=!0,0))}))}))}}])&&P(t.prototype,r),n&&P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var N=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T(this,"_firstPageStyle",""),T(this,"_otherPageStyle",""),T(this,"isFinish",!1)}var t,r,o;return t=e,(r=[{key:"genCssKV",value:function(e,t){return"".concat(e,": ").concat(t," !important;")}},{key:"genCss",value:function(e,t){return"".concat("dark"===g.mode?"html.".concat(a," "):"").concat(g.cssSelectorsPrefix&&"".concat(g.cssSelectorsPrefix," "),".").concat(e,"{").concat(t,"}")}},{key:"addCss",value:function(e,t){this[t?"_firstPageStyle":"_otherPageStyle"]+=e,se.addCss(t)}},{key:"writeStyle",value:function(e){!e&&de.isDarkmode&&(this.isFinish=!0);var t=(de.isDarkmode?[{target:this,key:["_firstPageStyle","_otherPageStyle"],needMediaQuery:!0}]:[]).concat([{target:se,key:["firstPageStyle","otherPageStyle"],needMediaQuery:!0},{target:se,key:["firstPageStyleNoMQ","otherPageStyleNoMQ"],needMediaQuery:!1}]).map((function(t){var r=t.target,a=O(t.key,2),o=a[0],i=a[1],l=t.needMediaQuery,s="";e?s=o:(r[i]=r[o]+r[i],r[o]="",s=i);var u=r[s];return u?(r[s]="","dark"!==g.mode&&l?"@media ".concat(n," {").concat(u,"}"):u):""})).join("");t&&document.head.insertAdjacentHTML("beforeend",'<style type="text/css">'.concat(t,"</style>"))}}])&&E(t.prototype,r),o&&E(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(e){var t;return(t=[e]).concat.apply(t,L(e.querySelectorAll("*")))}var z={"ue-table-interlace-color-single":"#fcfcfc","ue-table-interlace-color-double":"#f7faff"};var V=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),D(this,"_nodes",[]),D(this,"_firstPageNodes",[]),D(this,"_delayNodes",[]),D(this,"showFirstPage",!1)}var t,r,n;return t=e,(r=[{key:"length",get:function(){return this._nodes.length}},{key:"set",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._nodes=e}},{key:"get",value:function(){var e=[];return this._nodes.length?(e=this._nodes,de.isDarkmode&&(this._nodes=[])):this._delayNodes.length?(e=this._delayNodes,this._delayNodes=[]):g.container&&(e=g.container.querySelectorAll("*")),e}},{key:"delay",value:function(){var e=this;Array.prototype.forEach.call(this._nodes,(function(t){return e._delayNodes.push(t)})),this._nodes=[]}},{key:"hasDelay",value:function(){return this._delayNodes.length>0}},{key:"addFirstPageNode",value:function(e){this._firstPageNodes.push(e)}},{key:"showFirstPageNodes",value:function(){this._firstPageNodes.forEach((function(e){return e.style.visibility="visible"})),this.showFirstPage=!0}},{key:"emptyFirstPageNodes",value:function(){this._firstPageNodes=[]}}])&&F(t.prototype,r),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),K=r(0),J=r.n(K),$=r(1),H=r.n($);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,o=[],i=!0,l=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(l)throw a}}return o}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return G(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}H.a.windowtext=[0,0,0],H.a.transparent=[255,255,255,0];var Y=new RegExp(Object.keys(H.a).map((function(e){return"\\b".concat(e,"\\b")})).join("|"),"ig"),Z=/\brgba?\([^)]+\)/i,ee=/\brgba?\([^)]+\)/gi,te=function(e){return e.replace(d,"")},re=function(e,t){return te(e).replace(Y,(function(e){if(!t&&"transparent"===e)return e;var r=H.a[e.toLowerCase()];return"".concat(r.length>3?"rgba":"rgb","(").concat(r.toString(),")")}))},ne=function(e){if(!e||e.length<1)return"";if(1===e.length)return e[0];for(var t=e.shift(),r=e.shift();r;){var n=J()(r);t=J()(t).mix(n,n.alpha()),r=e.shift()}return t},ae=function(e){var t=re(e);return Z.test(t)?t:""},oe=function(e){return(299*e[0]+587*e[1]+114*e[2])/1e3},ie=function(e,t){var r=e/oe(t),n=Math.min(255,t[0]*r),a=Math.min(255,t[1]*r),o=Math.min(255,t[2]*r);return 0===a||255===n||255===o?a=(1e3*e-299*n-114*o)/587:0===n?n=(1e3*e-587*a-114*o)/299:0!==o&&255!==a||(o=(1e3*e-299*n-587*a)/114),J.a.rgb(n,a,o)},le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"_idx",0),X(this,"_defaultDarkTextColorRgb",J()(g.defaultDarkTextColor).rgb().array()),X(this,"_defaultDarkBgColorRgb",J()(g.defaultDarkBgColor).rgb().array()),X(this,"_defaultDarkBgColorHSL",J()(g.defaultDarkBgColor).hsl().array()),X(this,"_defaultDarkTextColorBrightness",oe(this._defaultDarkTextColorRgb)),X(this,"_defaultDarkBgColorBrightness",oe(this._defaultDarkBgColorRgb)),X(this,"_defaultDarkBgColorHslBrightness",this._defaultDarkBgColorHSL[2]),X(this,"_maxLimitOffsetBrightness",this._defaultDarkTextColorBrightness-this._defaultDarkBgColorBrightness),X(this,"isDarkmode",!1)}var t,r,n;return t=e,(r=[{key:"_adjustTextBrightness",value:function(e,t){var r=t.rgb().array(),n=t.alpha(),a=oe(r)*n+this._defaultDarkBgColorBrightness*(1-n),o=e.rgb().array(),i=e.hsl().array(),l=e.alpha(),s=oe(o),u=Math.abs(a-s);if(s>=250)return e;if(u>this._maxLimitOffsetBrightness&&a<=this._defaultDarkBgColorBrightness+2)return ie(this._maxLimitOffsetBrightness+a,o).alpha(l);if(u>=65)return e;if(a>=100){if(i[2]>50){i[2]=90-i[2];var c=J.a.hsl.apply(J.a,Q(i)).alpha(l);return this._adjustTextBrightness(c,t)}return ie(Math.min(this._maxLimitOffsetBrightness,a-65),o).alpha(l)}if(i[2]<=40){i[2]=90-i[2];var h=J.a.hsl.apply(J.a,Q(i)).alpha(l);return this._adjustTextBrightness(h,t)}return ie(Math.min(this._maxLimitOffsetBrightness,a+65),o).alpha(l)}},{key:"_adjustBackgroundBrightness",value:function(e){var t=e.rgb().array(),r=e.hsl().array(),n=e.alpha(),a=oe(t),o=e;return 0===r[1]&&r[2]>40||a>250?o=J.a.hsl(0,0,Math.min(100,100+this._defaultDarkBgColorHslBrightness-r[2])):a>190?o=ie(190,t).alpha(n):r[2]<22&&(r[2]=22,o=J.a.hsl.apply(J.a,Q(r))),o.alpha(n).rgb()}},{key:"_adjustBrightness",value:function(e,t,r){var n,a=e.alpha(),o="";if(r.isBgColor){if(t.getAttribute(c)&&a>=.05&&t.removeAttribute(c),n=this._adjustBackgroundBrightness(e),!r.hasInlineColor){var s=t.getAttribute(i)||g.defaultLightTextColor,u=n||e,h=this._adjustBrightness(J()(s),t,{isTextColor:!0,parentElementBgColorStr:u});h.newColor?o+=he.genCssKV("color",h.newColor):o+=he.genCssKV("color",s)}}else if(r.isTextColor||r.isBorderColor){var f=r.parentElementBgColorStr||r.isTextColor&&t.getAttribute(l)||g.defaultDarkBgColor,d=J()(f);t.getAttribute(c)||(n=this._adjustTextBrightness(e,d),se.emit("afterConvertTextColor",t,{fontColor:n,bgColor:d}))}else r.isTextShadow&&(t.getAttribute(c)||(n=this._adjustBackgroundBrightness(e)));return{newColor:n&&e.toString()!==n.toString()&&n.alpha(a).rgb(),extStyle:o}}},{key:"_try",value:function(e){try{return e()}catch(e){console.log("An error occurred when running the dark mode conversion algorithm\n",e),"function"==typeof g.error&&g.error(e)}}},{key:"convert",value:function(e){var t=this;se.resetCss(),se.emit("beforeConvertNode",e);var r,n,a="";if(this.isDarkmode){var o=e.nodeName;if(g.whitelist.tagName.indexOf(o)>-1)return"";var h,b,p=e.style,y="",m=!1,v=!1,k=!1,w=(p.cssText&&p.cssText.split(";")||[]).map((function(e){var t=e.indexOf(":");return[e.slice(0,t).toLowerCase(),e.slice(t+1)].map((function(e){return(e||"").replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}))})).filter((function(e){var t=R(e,2),r=t[0],n=t[1];return"color"===r?m=!0:/background/i.test(r)&&(v=!0,"background-position"===r?h=n:"background-size"===r&&(b=n)),(/background/i.test(r)||/^(-webkit-)?border-image/.test(r))&&/url\([^)]*\)/i.test(n)&&(k=!0),["-webkit-border-image","border-image","color","background-color","background-image","background","border","border-top","border-right","border-bottom","border-left","border-color","border-top-color","border-right-color","border-bottom-color","border-left-color","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color","text-shadow"].indexOf(r)>-1})).sort((function(e,t){var r=R(e,1)[0],n=R(t,1)[0];return"color"===r||"background-image"===r&&"background-color"===n||0===n.indexOf("-webkit-text")?1:-1}));f.indexOf(o)>-1&&!v&&this._try((function(){var t=function(e){var t=null;return Array.prototype.some.call(e.classList,(function(e){return!!z[e]&&(t=z[e],!0)})),t}(e);t||(t=e.getAttribute("bgcolor")),t&&(w.unshift(["background-color",J()(t).toString()]),v=!0)})),"FONT"!==o||m||this._try((function(){var t=e.getAttribute("color");t&&(w.push(["color",J()(t).toString()]),m=!0)}));var x="",M="",_=0;if(w.some((function(e,r){var n=R(e,2),a=n[0],o=n[1];return t._try((function(){if(0!==a.indexOf("-webkit-text"))return _=r,!0;switch(a){case"-webkit-text-fill-color":x=ae(o);break;case"-webkit-text-stroke":var e=o.split(" ");2===e.length&&(M=ae(e[1]));break;case"-webkit-text-stroke-color":M=ae(o)}return!1}))})),x&&(m?w[w.length-1]=["-webkit-text-fill-color",x]:(w.push(["-webkit-text-fill-color",x]),m=!0)),_&&(w.splice(0,_),M&&w.unshift(["-webkit-text-stroke-color",M])),w.forEach((function(r){var n=R(r,2),a=n[0],o=n[1];return t._try((function(){var r,n=o,f=!1,w=/^background/.test(a),x="text-shadow"===a,M=["-webkit-text-stroke-color","color","-webkit-text-fill-color"].indexOf(a),_=/^border/.test(a),C=/gradient/.test(o),j=[],P="";if(o=re(o,C),Z.test(o)){if(C){for(var S=ee.exec(o);S;)j.push(S[0]),S=ee.exec(o);r=ne(j)}var A=0;o=o.replace(ee,(function(n){C&&(n=r,f=!0);var a=t._adjustBrightness(J()(n),e,{isBgColor:w,isTextShadow:x,isTextColor:M>-1,isBorderColor:_,hasInlineColor:m}),o=!k&&a.newColor;if(P+=a.extStyle,w||M>0){var h=w?l:i,d=w?u:s,b=o?o.toString():n;0===A&&I(e).forEach((function(e){var t=e.getAttribute(d)||g.defaultLightBgColor;e.setAttribute(h,b),e.setAttribute(d,t.split("|").concat(n).join("|")),w&&J()(b).alpha()>=.05&&e.getAttribute(c)&&e.removeAttribute(c)}))}return o&&(f=!0),A+=1,o||n})).replace(/\s?!\s?important/gi,"")}if(P&&(y+=P),!(e instanceof SVGElement)){var O=/^background/.test(a),B=/^(-webkit-)?border-image/.test(a);if((O||B)&&/url\([^)]*\)/i.test(o)){f=!0;var E=ne((e.getAttribute(u)||g.defaultLightBgColor).split("|"));if(o=o.replace(/^(.*?)url\(([^)]*)\)(.*)$/i,(function(t){var r=t,n="",o="",i="";return"1"!==e.getAttribute(c)&&I(e).forEach((function(e){return e.setAttribute(c,"1")})),O?(r="linear-gradient(".concat("rgba(0,0,0,0.2)",", ").concat("rgba(0,0,0,0.2)","),").concat(t),i=he.genCssKV(a,"".concat(r,",linear-gradient(").concat(E,", ").concat(E,")")),h&&(n="top left,".concat(h),y+=he.genCssKV("background-position","".concat(n)),i+=he.genCssKV("background-position","".concat(n,",top left"))),b&&(o="100%,".concat(b),y+=he.genCssKV("background-size","".concat(o)),i+=he.genCssKV("background-size","".concat(o,",100%"))),ce.push(e,i)):!v&&ce.push(e,he.genCssKV("background-image","linear-gradient(".concat("rgba(0,0,0,0.2)",", ").concat("rgba(0,0,0,0.2)","),linear-gradient(").concat(E,", ").concat(E,")"))),r})),!m){var T=ne((e.getAttribute(s)||g.defaultLightTextColor).split("|"));y+=he.genCssKV("color",T),I(e).forEach((function(e){return e.setAttribute(i,T)}))}}}f&&(d.test(n)&&(p[a]=te(n)),C?ce.push(e,he.genCssKV(a,o)):y+=he.genCssKV(a,o))}))})),y){e.setAttribute("data-style",p.cssText);var C="".concat("js_darkmode__").concat(this._idx++);e.classList.add(C),a+=y?he.genCss(C,y):""}r=e,n="",Array.prototype.forEach.call(r.childNodes,(function(e){3===e.nodeType&&(n+=e.nodeValue.replace(/\s/g,""))})),n.length>0&&(g.delayBgJudge?ue.push(e):ce.contains(e,(function(e){a+=he.genCss(e.className,e.cssKV)})))}return se.emit("afterConvertNode",e),a}}])&&W(t.prototype,r),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),se=new x,ue=new j("".concat("js_darkmode__","text__")),ce=new A("".concat("js_darkmode__","bg__")),he=new N,fe=new V,de=new le,ge=new RegExp("".concat("js_darkmode__","[^ ]+"),"g"),be=null,pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"dom"};if(t.force&&(he.isFinish=!1),!he.isFinish)try{de.isDarkmode=g.mode?"dark"===g.mode:e.matches,"dom"===t.type?(de.isDarkmode&&"function"==typeof g.begin&&g.begin(fe.hasDelay()),Array.prototype.forEach.call(fe.get(),(function(e){if(de.isDarkmode&&e.className&&"string"==typeof e.className&&(e.className=e.className.replace(ge,"")),de.isDarkmode||se.length)if(g.needJudgeFirstPage){var t=e.getBoundingClientRect(),r=t.top,n=t.bottom;r<=0&&n<=0?he.addCss(de.convert(e),!1):r>0&&r<h||n>0&&n<h?(fe.addFirstPageNode(e),he.addCss(de.convert(e),!0)):(g.needJudgeFirstPage=!1,he.writeStyle(!0),fe.showFirstPageNodes(),"function"==typeof g.showFirstPage&&g.showFirstPage(),he.addCss(de.convert(e),!1))}else he.addCss(de.convert(e),!1)})),se.loopTimes++):"bg"===t.type&&de.isDarkmode&&ue.forEach((function(e){return ce.contains(e,(function(e){he.addCss(he.genCss(e.className,e.cssKV),!1)}))})),(g.needJudgeFirstPage||!g.needJudgeFirstPage&&!fe.showFirstPage)&&"function"==typeof g.showFirstPage&&g.showFirstPage(),he.writeStyle(),fe.emptyFirstPageNodes(),de.isDarkmode||(g.needJudgeFirstPage=!1,g.delayBgJudge=!1,null===g.container&&"dom"===t.type&&fe.length&&fe.delay())}catch(e){console.log("An error occurred when running the dark mode conversion algorithm\n",e),"function"==typeof g.error&&g.error(e)}};function ye(e,t){me(t),fe.set(e),pe(be,{force:!0,type:"dom"})}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!g.hasInit){g.hasInit=!0;var t=g.whitelist.tagName;e.whitelist&&e.whitelist.tagName instanceof Array&&e.whitelist.tagName.forEach((function(e){e=e.toUpperCase(),-1===t.indexOf(e)&&t.push(e)})),["dark","light"].indexOf(e.mode)>-1&&(g.set("string",e,"mode"),document.getElementsByTagName("html")[0].classList.add(a)),g.set("function",e,"begin"),g.set("function",e,"showFirstPage"),g.set("function",e,"error"),g.set("boolean",e,"needJudgeFirstPage"),g.set("boolean",e,"delayBgJudge"),g.set("dom",e,"container"),g.set("string",e,"cssSelectorsPrefix"),g.set("string",e,"defaultLightTextColor"),g.set("string",e,"defaultLightBgColor"),g.set("string",e,"defaultDarkTextColor"),g.set("string",e,"defaultDarkBgColor"),!g.mode&&null===be&&window.matchMedia&&(be=window.matchMedia(n)).addListener(pe)}}function ve(e){fe.set(e),null!==g.container&&(ce.update(e),ue.update(e)),pe(be,{force:!0,type:"bg"})}function ke(e){e.forEach((function(e){return se.extend(e)}))}}])}));</script><script type="text/javascript" nonce="1276091577" reportloaderror>var __INLINE_SCRIPT__=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,e){return n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(t,e)}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=i(t);if(e){var u=i(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o(this,n)}}var a=function(r){var o=0;r&&r.front_end_additional_fields&&r.front_end_additional_fields.is_auto_type_setting&&(o=r.front_end_additional_fields.is_auto_type_setting);return function(r){var i=!1,a=document.querySelectorAll("#js_content")[0],c={appmsgid:window.appmsgid,pointerEvents:!1,heightAnimate:!1},f=function(t,e){return 1===t.length&&t[0].tagName&&t[0].tagName.toLowerCase()===e};return function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)}(y,r);var s,l,p,d=u(y);function y(){return t(this,y),d.apply(this,arguments)}return s=y,(l=[{key:"afterConvertNode",value:function(t){if(!this.loopTimes){if(!i){var e=navigator.userAgent;/(iPhone|iPad|iPod|iOS|mac\sos)/i.test(e)&&a.classList.add("fix_apple_default_style"),i=!0}if("animate"===t.tagName&&"height"===t.getAttribute("attributeName")){var n=t.getAttribute("repeatCount");("indefinite"===n||n>"10")&&"click"!==t.getAttribute("begin")&&"click"!==t.getAttribute("end")&&(t.setAttribute("repeatCount","undefined"),t.setAttribute("attributeName","undefined"),(new Image).src="https://mp.weixin.qq.com/mp/jsmonitor?idkey=306525_1_1")}if(1===o)try{var r=t.parentNode.id;if(("js_content"===r||"js_secopen_content"===r)&&"p"===t.tagName.toLowerCase()){var u=t.childNodes;""===t.textContent&&(f(u,"br")||1===u.length&&f(u[0].childNodes,"br"))&&(t.previousElementSibling.style.marginBottom="0em",t.style.marginBottom="0em")}}catch(t){if("undefined"!=typeof WX_BJ_REPORT&&WX_BJ_REPORT.BadJs){var s=JSON.stringify(c);WX_BJ_REPORT.BadJs.report("domFilter",s,{mid:"mmbizwap:domMonitor",view:"wap_appmsg"})}}}}}])&&e(s.prototype,l),p&&e(s,p),Object.defineProperty(s,"prototype",{writable:!1}),y}(r)}};return window.__second_open__||(window.DomFilter=a()),a}();</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
(function () {
  if (!window.__second_open__ && window.Darkmode) { // 非秒开，秒开的逻辑写在skeleton.js里
    var cost = 0; // 记录Darkmode首屏渲染耗时
    window.Darkmode.extend([window.DomFilter]); // 插件注册
    window.Darkmode.run(document.querySelectorAll('#js_content *'), {
      mode: '', // ''|'dark'|'light', 空表示跟随系统
      defaultDarkBgColor: '',
      error: function () {
        (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_0_1'; // 上报conver出错 H5
      },
      begin: function (isSwitch) {
        (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_2_1'; // 上报Darkmode H5 PV
        isSwitch && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_4_1'); // 上报Darkmode H5 PV（仅含从LM切换到DM的情况）

        cost = new Date() * 1; // 记录开始渲染的时间
      },
      showFirstPage: function () {
        cost = new Date() * 1 - cost; // 记录首屏渲染耗时
        var isTop = (document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop) === 0;
        // 上报Darkmode耗时大盘数据
        if (cost <= 10) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_6_1'; // 上报Darkmode H5 首屏渲染时间在10ms以内（含10ms）PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_13_1'); // 上报Darkmode H5 首屏渲染时间在10ms以内（含10ms）PV - 无滚动
        } else if (cost > 10 && cost <= 20) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_7_1'; // 上报Darkmode H5 首屏渲染时间在(10ms, 20ms]之间PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_14_1'); // 上报Darkmode H5 首屏渲染时间在(10ms, 20ms]之间PV - 无滚动
        } else if (cost > 20 && cost <= 30) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_8_1'; // 上报Darkmode H5 首屏渲染时间在(20ms, 30ms]之间PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_15_1'); // 上报Darkmode H5 首屏渲染时间在(20ms, 30ms]之间PV - 无滚动
        } else if (cost > 30 && cost <= 40) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_9_1'; // 上报Darkmode H5 首屏渲染时间在(30ms, 40ms]之间PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_16_1'); // 上报Darkmode H5 首屏渲染时间在(30ms, 40ms]之间PV - 无滚动
        } else if (cost > 40 && cost <= 50) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_10_1'; // 上报Darkmode H5 首屏渲染时间在(40ms, 50ms]之间PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_17_1'); // 上报Darkmode H5 首屏渲染时间在(40ms, 50ms]之间PV - 无滚动
        } else if (cost > 50 && cost <= 60) {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_11_1'; // 上报Darkmode H5 首屏渲染时间在(50ms, 60ms]之间PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_18_1'); // 上报Darkmode H5 首屏渲染时间在(50ms, 60ms]之间PV - 无滚动
        } else {
          (new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_12_1'; // 上报Darkmode H5 首屏渲染时间在60ms以上（不含60ms）PV
          isTop && ((new Image()).src = 'https://mp.weixin.qq.com/mp/jsmonitor?idkey=125617_19_1'); // 上报Darkmode H5 首屏渲染时间在60ms以上（不含60ms）PV - 无滚动
        }
      }
    });
    document.getElementById('js_content').style.visibility = 'visible';
  }
})();
</script>

<script type="text/javascript" nonce="1276091577" reportloaderror>
(function(_g){
    _g.appmsg_like_type = "2" * 1 ? "2" * 1 : 1;
    // _g.appmsg_like_type = 2;
    _g.clientversion = "";
    _g.passparam = ""; // 看一看带参数
    if(!_g.msg_link) {
      _g.msg_link = "http://mp.weixin.qq.com/s?__biz=MzIzOTU0NTQ0MA==&amp;mid=2247508776&amp;idx=1&amp;sn=ea44de460c56c0643f79227736dcd505&amp;chksm=e92a9e27de5d1731bcefbcfea6ac55f440632259d4fbdc1c4c1065a90f587121e6e80c9c42d1#rd";
    }
    _g.appmsg_type = "9"; // 后台图文消息类型
    _g.devicetype = ""; // devicetype
})(window);
// 已翻译
</script>

<script type="text/javascript" nonce="1276091577" reportloaderror>
// 企业微信里置灰公众号名称
(function() {
  var ua = window.navigator.userAgent;
  if (/MicroMessenger\/([\d\.]+)/i.test(ua) && /wxwork/i.test(ua)) {
    var profileName = document.getElementById('js_name');
    var authorName = document.getElementById('js_author_name');
    var accountNames = document.getElementsByClassName('account_nickname_inner');
    if (profileName) {
      profileName.classList.add('tips_global_primary');
    }
    if (authorName) {
      authorName.classList.add('tips_global_primary');
    }
    if (accountNames && accountNames.length) {
      accountNames[0].classList.add('tips_global_primary');
    }
  }
})();
</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
// 安卓插入米大师 h5 sdk
(function() {
  var ua = navigator.userAgent;
  if (ua.indexOf("MicroMessenger") != -1 && ua.indexOf("Android") != -1){
    var script = document.createElement('script');
    var head = document.getElementsByTagName('head')[0];
    script.type = 'text/javascript';
    script.src = "https://midas.gtimg.cn/h5sdk/js/api/h5sdk.js";
    head.appendChild(script);
  }
})();
</script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
var real_show_page_time = +new Date();
if (!!window.addEventListener){
  window.addEventListener("load", function(){
    window.onload_endtime = +new Date();
  });
}
</script>

<script nomodule nonce="1276091577" reportloaderror>new Image().src='https://mp.weixin.qq.com/mp/jsmonitor?idkey=66881_111_1&t='+Math.random();</script>

    

<script nomodule nonce="1276091577" reportloaderror>!function(){var e=document,t=e.createElement("script");if(!("noModule"in t)&&"onbeforeload"in t){var n=!1;e.addEventListener("beforeload",(function(e){if(e.target===t)n=!0;else if(!e.target.hasAttribute("nomodule")||!n)return;e.preventDefault()}),!0),t.type="module",t.src=".",e.head.appendChild(t),t.remove()}}();</script>
<script nomodule id="vite-legacy-polyfill" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/polyfills-legacy.3be60daf.js" nonce="1276091577" reportloaderror></script>
<script nomodule id="vite-legacy-entry" src="https://images.weserv.nl/?url=//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/../mmbizappmsg/assets/appmsg-legacy.l4dkj1u89f0c97be.js" nonce="1276091577" reportloaderror>System.import(document.getElementById('vite-legacy-entry').getAttribute('data-src'))</script>

    <link rel="stylesheet" type="text/css" href="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/mod/weui_a11y5e92ab.css" reportloaderror>
<script type="text/javascript" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/js/lib/wa-helper.min5e92ab.js" nonce="1276091577" reportloaderror></script>
<script type="text/javascript" nonce="1276091577" reportloaderror>
  // WAH.default.init()
</script>



<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_colon">：</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_comma">，</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_period">。</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_space">&nbsp;</span>


<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_type_video">视频</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_type_weapp">小程序</span>


<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_zan_btn_txt">赞</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_zan_btn_tips">，轻点两下取消赞</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_like_btn_txt">在看</span>
<span aria-hidden="true" class="weui-a11y_ref" style="display:none" id="js_a11y_like_btn_tips">，轻点两下取消在看</span>

  </body>
</html>


